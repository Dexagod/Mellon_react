(this.webpackJsonpmellon=this.webpackJsonpmellon||[]).push([[0],{107:function(e,t,n){e.exports={container:"profilecard_container__4R2nr",propertylabel:"profilecard_propertylabel__FjYnN",valuelabel:"profilecard_valuelabel__k0k0Y",listitem:"profilecard_listitem__C-fpw",rowcontainer:"profilecard_rowcontainer__NIioM",profilecardrow:"profilecard_profilecardrow__3eJ5U"}},1101:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(3),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemNotificationHander=void 0;var i=n(197),s=function(){function e(){a(this,e),this.notifier=i.isBrowser?new u:n(1102)}return o(e,[{key:"notify",value:function(e){return c(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.notifier.notify(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}}]),e}();t.SystemNotificationHander=s;var u=function(){function e(){a(this,e)}return o(e,[{key:"notify",value:function(e){return c(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){if(window||n("Could not find window object in browser environment"),window.Notification&&"granted"===Notification.permission){var r=new Notification(e.title,{body:e.message});t(r)}else window.Notification&&"denied"!==Notification.permission?Notification.requestPermission((function(r){if("granted"===r){var a=new Notification(e.title,{body:e.message});t(a)}else n("User has not accepted notifications for this site.")})):n("User has not accepted notifications for this site.")})));case 1:case"end":return t.stop()}}),t)})))}}]),e}()},1178:function(e,t){},1180:function(e,t){},1220:function(e,t,n){"use strict";var r=n(1),a=n(11),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return c(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(241),f=i(n(99)),d=u(n(131)),p=u(n(129)),m=u(n(328)),h=n(130),v=n(345),w="urn:Notification";function b(e,t){return s(this,void 0,void 0,r.mark((function n(){var a,o,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t.notification){n.next=5;break}a=t.notification,n.next=16;break;case 5:if(!t.notification_file){n.next=11;break}return n.next=8,h.loadResourceText(e,t.notification_file);case 8:a=n.sent,n.next=16;break;case 11:if(!t.notification_template||!t.notification_mapping){n.next=15;break}throw new Error("Templates have not yet been implemented in this version.");case 15:throw new p.default("No valid notification was provided. Please use --help to find the available methods to pass a notification to the program.");case 16:if("text/plain"!==t.contentType){n.next=20;break}return n.abrupt("return",new Promise((function(e,t){var n;e((n=a,[f.quad(f.namedNode(w),f.namedNode(d.default.as("content")),f.literal(n,f.namedNode(d.default.xsd("string"))))]))})));case 20:return o=v(a),c=m.default.parse(o,{contentType:t.contentType,baseIRI:w}),n.abrupt("return",l.streamToQuads(c));case 23:n.next=28;break;case 25:throw n.prev=25,n.t0=n.catch(0),new p.default("Could not parse the notification.\n".concat(n.t0),n.t0.name||"Notification parsing");case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))}t.default=function(e,t,n){return s(this,void 0,void 0,r.mark((function o(){var c,i,s,u,m,h,v,x,g,E,y,k,I,O,j,N;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(e,n);case 2:c=r.sent,i=n.from||t.sender,s=Array.isArray(i)?i:[i],u=a(s||[]);try{for(u.s();!(m=u.n()).done;)(h=m.value)&&c.push(f.quad(f.namedNode(w),f.namedNode(d.default.dct("creator")),f.namedNode(h)))}catch(o){u.e(o)}finally{u.f()}v=a(n.to||[]);try{for(v.s();!(x=v.n()).done;)(g=x.value)&&c.push(f.quad(f.namedNode(w),f.namedNode(d.default.as("to")),f.namedNode(g)))}catch(o){v.e(o)}finally{v.f()}E=a(n.cc||[]);try{for(E.s();!(y=E.n()).done;)(k=y.value)&&c.push(f.quad(f.namedNode(w),f.namedNode(d.default.as("cc")),f.namedNode(k)))}catch(o){E.e(o)}finally{E.f()}I=a(n.bcc||[]);try{for(I.s();!(O=I.n()).done;)(j=O.value)&&c.push(f.quad(f.namedNode(w),f.namedNode(d.default.as("bcc")),f.namedNode(j)))}catch(o){I.e(o)}finally{I.f()}return N=n.contentTypeOutput,r.prev=14,r.abrupt("return",l.quadsToString(c,N));case 18:throw r.prev=18,r.t0=r.catch(14),new p.default("Error serializing notification body\n".concat(r.t0.message),"Serialization");case 21:case"end":return r.stop()}}),o,null,[[14,18]])})))}},1222:function(e,t,n){"use strict";var r=n(1),a=n(11),o=n(2),c=n(3),i=n(4),s=n(5),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InboxRetrievalAsyncIterator=void 0;var f=n(1556),d=n(1223),p=n(130),m=l(n(131)),h=l(n(166)),v=n(591),w=n(597),b=n(241),x=n(248),g=function(e){i(n,e);var t=s(n);function n(e,r){var a;return o(this,n),(a=t.call(this)).params=r,a.auth=e,a.values=new Array,a.trackFolder(),a}return c(n,[{key:"read",value:function(){return this.closed?null:this.values.shift()||null}},{key:"trackFolder",value:function(){return u(this,void 0,void 0,r.mark((function e(){var t,n,o=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],(n=new d.UpdateTracker(this.auth)).on("update",(function(e){return u(o,void 0,void 0,r.mark((function e(){var n,o,c,i,s,u,l,f,d,h,g,E,y,k,I;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getStoreFromFile(this.auth,this.params.inbox);case 2:n=e.sent,o=n.getQuads(this.params.inbox,m.default.ldp("contains"),null,null).map((function(e){return e.object.id})),c=o.filter((function(e){return-1===t.indexOf(e)})),i=a(c),e.prev=6,i.s();case 8:if((s=i.n()).done){e.next=55;break}return u=s.value,e.next=12,p.getQuadArrayFromFile(this.auth,u);case 12:if(l=e.sent,f=n.getQuads(u,m.default.dct("modified"),null,null),d=f&&0!==f.length?new Date(f[0].object.value):void 0,this.params.filters&&0!==this.params.filters.length){e.next=19;break}this.validatedNotification(u,l,b.DEFAULTFILTERNAME,d),e.next=53;break;case 19:h=a(this.params.filters),e.prev=20,h.s();case 22:if((g=h.n()).done){e.next=45;break}if((E=g.value).name){e.next=26;break}throw new Error("No name parameter set for used filter.");case 26:if(!E.shape){e.next=28;break}throw new Error("Shapes are currently not yet supported.");case 28:if(E.shapeFileURI){e.next=30;break}throw new Error("No shapeFileURI parameter set for filter.");case 30:return e.next=32,v.getResourceAsDataset(this.auth,E.shapeFileURI);case 32:return y=e.sent,e.next=35,x(l.slice());case 35:return k=e.sent,e.next=38,v.getDataset(k);case 38:return I=e.sent,e.next=41,w.validate(I,y);case 41:if(e.sent){e.next=43;break}this.validatedNotification(u,l,E.name,d);case 43:e.next=22;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(20),h.e(e.t0);case 50:return e.prev=50,h.f(),e.finish(50);case 53:e.next=8;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(6),i.e(e.t1);case 60:return e.prev=60,i.f(),e.finish(60);case 63:t=t.concat(c),this.emit("readable");case 65:case"end":return e.stop()}}),e,this,[[6,57,60,63],[20,47,50,53]])})))})),n.subscribe(this.params.inbox);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"validatedNotification",value:function(e,t,n,a){return u(this,void 0,void 0,r.mark((function o(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.values.push({id:e,quads:t.slice(),filterName:n,date:a}),this.params.notify&&b.notifySystem(t,this.params.systemNotificationFormat,n,a),!this.params.delete){r.next=12;break}return r.prev=3,r.next=6,p.deleteFile(this.auth,e);case 6:h.default.log("verbose","Deleted notification: "+e),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h.default.log("error","Failed to delete notification: "+e);case 12:case"end":return r.stop()}}),o,this,[[3,9]])})))}}]),n}(f.AsyncIterator);t.InboxRetrievalAsyncIterator=g},1223:function(e,t,n){"use strict";var r=n(11),a=n(1),o=n(2),c=n(3),i=n(4),s=n(5),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTracker=void 0;var f=n(35),d=n(1224),p=n(1225),m=l(n(166)),h=function(e){i(n,e);var t=s(n);function n(e){var r;return o(this,n),(r=t.call(this)).trackers=new Map,r.reconnectionAttempts=0,r.reconnectionDelay=1e3,r.auth=e,r}return c(n,[{key:"track",value:function(e){return u(this,void 0,void 0,a.mark((function t(){var n,r=this;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(this.auth,e);case 2:return(n=t.sent).on("update",(function(){var t={timestamp:new Date,url:e};r.emit("update",t)})),n.on("close",(function(){r.trackers.delete(e),r.reconnect(e)})),this.trackers.set(e,n),n.watch(),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"reconnect",value:function(e){return u(this,void 0,void 0,a.mark((function t(){var n=this;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.reconnectionAttempts<6)){t.next=5;break}return t.next=3,new Promise((function(e){return setTimeout(e,n.reconnectionDelay)}));case 3:return t.next=5,this.track(e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"subscribe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(this,void 0,void 0,a.mark((function e(){var n,o,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r(t);try{for(n.s();!(o=n.n()).done;)(c=(c=o.value).replace(/#.*/,""))in this.trackers.keys()||this.track(c)}catch(a){n.e(a)}finally{n.f()}case 2:case"end":return e.stop()}}),e,this)})))}},{key:"unsubscribe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(this,void 0,void 0,a.mark((function e(){var n,o,c,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r(t);try{for(n.s();!(o=n.n()).done;)c=(c=o.value).replace(/#.*/,""),(i=this.trackers.get(c))&&(i.stop(),this.trackers.delete(c))}catch(a){n.e(a)}finally{n.f()}case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(f.EventEmitter);function v(e,t){return u(this,void 0,void 0,a.mark((function n(){var r,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetch(t);case 2:return r=n.sent,(o=r.headers.get("Updates-Via"))||m.default.log("verbose","No WebSocket found for ".concat(t)),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})))}function w(e,t){return u(this,void 0,void 0,a.mark((function n(){var r;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(e,t);case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",new p.WebSocketTracker(e,t,r));case 7:return n.abrupt("return",new d.PollingTracker(e,t));case 8:case"end":return n.stop()}}),n)})))}t.UpdateTracker=h},1224:function(e,t,n){"use strict";var r=n(11),a=n(1),o=n(2),c=n(3),i=n(4),s=n(5),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PollingTracker=void 0;var f=n(130),d=l(n(131)),p=function(e){i(n,e);var t=s(n);function n(e,r){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return o(this,n),(a=t.call(this)).interval=null,a.processedIds=[],a.auth=e,a.url=r,a.timeOut=c,a}return c(n,[{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}},{key:"watch",value:function(){return u(this,void 0,void 0,a.mark((function e(){var t=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.interval=setInterval((function(){return u(t,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.evaluate();case 1:case"end":return e.stop()}}),e,this)})))}),this.timeOut);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"evaluate",value:function(){return u(this,void 0,void 0,a.mark((function e(){var t,n,o,c,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getQuadArrayFromFile(this.auth,this.url);case 2:t=e.sent,n=!1,o=r(t);try{for(o.s();!(c=o.n()).done;)(i=c.value).predicate.value===d.default.ldp("contains")&&-1===this.processedIds.indexOf(i.object.value)&&(this.processedIds.push(i.object.value),n=!0)}catch(a){o.e(a)}finally{o.f()}n&&this.emit("update");case 7:case"end":return e.stop()}}),e,this)})))}}]),n}(n(35).EventEmitter);t.PollingTracker=p},1225:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(3),c=n(4),i=n(5),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketTracker=void 0;var d=n(197),p=n(35),m=l(n(166)),h=function(e){c(s,e);var t=i(s);function s(e,n,r){var o;return a(this,s),(o=t.call(this)).auth=e,o.url=n,o.socketURI=r,o}return o(s,[{key:"stop",value:function(){this.webSocket&&this.webSocket.close()}},{key:"createWebSocket",value:function(){var e=this;return m.log("verbose","creating websocket tracker for url: "+this.socketURI),new Promise((function(t,r){var a=new(d.isBrowser?WebSocket:n(1226))(e.socketURI);a.onopen=function(){t(a)},a.onerror=function(){r()}}))}},{key:"watch",value:function(){return f(this,void 0,void 0,r.mark((function e(){var t,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).emit("update"),e.next=4,this.createWebSocket();case 4:(n=e.sent).onmessage=function(e){/^pub +(.+)/.exec(e.data)&&t.emit("update")},this.webSocket=n,n.send("sub ".concat(this.url));case 8:case"end":return e.stop()}}),e,this)})))}}]),s}(p.EventEmitter);t.WebSocketTracker=h},1247:function(e,t,n){"use strict";var r=n(2),a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.Level=t.setLogOptions=t.log=t.Logger=void 0;var o,c=function(){function e(){r(this,e),this.verbose=!1,this.cli=!1}return a(e,null,[{key:"getInstance",value:function(){return e._instance||(e._instance=new e),e._instance}}]),e}();t.Logger=c,t.log=function(e,t){var n=c.getInstance();e===o.CLI?(n.cli||n.verbose)&&console.log(t):e===o.Log?n.verbose&&console.log(t):e===o.Warn?console.warn(t):e===o.Error&&console.error(t)},t.setLogOptions=function(e,t){var n=c.getInstance();e&&(n.cli=!0),t&&(n.verbose=!0)},function(e){e[e.CLI=0]="CLI",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error"}(o=t.Level||(t.Level={}))},1272:function(e,t,n){"use strict";var r=n(1),a=n(11),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return c(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(604),f=n(130),d=n(591),p=n(597),m=n(241),h=u(n(166)),v=i(n(269)),w=u(n(131)),b=n(248);t.default=function(e,t){var n;return s(this,void 0,void 0,r.mark((function o(){var c,i,s,u,x,g,E,y,k,I,O,j,N,_,S,T,P;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.fetchInboxNotifications(e,t.inbox);case 2:if(r.t1=n=r.sent,r.t0=null===r.t1,r.t0){r.next=6;break}r.t0=void 0===n;case 6:if(!r.t0){r.next=10;break}r.t2=void 0,r.next=11;break;case 10:r.t2=n.notifications;case 11:c=r.t2,i=[],s=a(c),r.prev=14,s.s();case 16:if((u=s.n()).done){r.next=77;break}return x=u.value,r.next=20,f.getQuadArrayFromFile(e,x);case 20:if(g=r.sent,E=new v.Store(g.slice()),y=E.getQuads(x,w.default.dct("modified"),null,null),k=y&&0!==y.length?new Date(y[0].object.value):void 0,t.filters&&0!==t.filters.length){r.next=29;break}I={id:x,quads:g,filterName:m.DEFAULTFILTERNAME,date:k},i.push(I),r.next=75;break;case 29:O=a(t.filters||[]),r.prev=30,O.s();case 32:if((j=O.n()).done){r.next=67;break}if((N=j.value).name){r.next=36;break}throw new Error("No name parameter set for used filter.");case 36:if(!N.shape){r.next=38;break}throw new Error("Shapes are currently not yet supported.");case 38:if(N.shapeFileURI){r.next=40;break}throw new Error("No shapeFileURI parameter set for filter.");case 40:return r.next=42,d.getResourceAsDataset(e,N.shapeFileURI);case 42:return _=r.sent,r.next=45,b(g.slice());case 45:return S=r.sent,r.next=48,d.getDataset(S);case 48:return T=r.sent,r.next=51,p.validate(T,_);case 51:if(r.sent){r.next=65;break}if(P={id:x,quads:g,filterName:N.name,date:k},i.push(P),t.notify&&m.notifySystem(P.quads,t.systemNotificationFormat,N.name,k),!t.delete){r.next=65;break}return r.prev=56,r.next=59,f.deleteFile(e,P.id);case 59:h.default.log("verbose","Deleted notification: "+P.id),r.next=65;break;case 62:r.prev=62,r.t3=r.catch(56),h.default.log("error","Failed to delete notification: "+P.id);case 65:r.next=32;break;case 67:r.next=72;break;case 69:r.prev=69,r.t4=r.catch(30),O.e(r.t4);case 72:return r.prev=72,O.f(),r.finish(72);case 75:r.next=16;break;case 77:r.next=82;break;case 79:r.prev=79,r.t5=r.catch(14),s.e(r.t5);case 82:return r.prev=82,s.f(),r.finish(82);case 85:return r.abrupt("return",i[Symbol.iterator]());case 86:case"end":return r.stop()}}),o,null,[[14,79,82,85],[30,69,72,75],[56,62]])})))}},129:function(e,t,n){"use strict";var r=n(2),a=n(4),o=n(5),c=n(81);Object.defineProperty(t,"__esModule",{value:!0}),t.createFetchError=void 0;var i=function(e){a(n,e);var t=o(n);function n(e,a,o){var c;return r(this,n),(c=t.call(this,e)).message=e,c.statusText=e,c.name=a||"SolidError",c.type=c.name,c.code=o||0,c.status=o||0,c}return n}(c(Error));t.default=i,t.createFetchError=function(e,t){switch(e){case 400:return new i("Bad request sent by client",t,e);case 401:return new i("Client is unauthorized to access this resource",t,e);case 403:return new i("Client is forbidden from accessing this resource",t,e);case 404:return new i("Resource was not found",t,e);default:if(e>=200&&e<300)return new i("Expected resource to return code 200, but received code ".concat(e),t,e);if(e>=300&&e<400)return new i("Resource has been redirected",t,e);if(e>=400&&e<500)return new i("Error with client request",t,e);if(e>=500&&e<600)return new i("Internal server error. ".concat(e),t,e)}}},130:function(e,t,n){"use strict";var r=n(1),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreFromFile=t.getQuadArrayFromFile=t.parseResponseToQuads=t.parseResponseToStore=t.deleteFile=t.postFile=t.getFile=t.loadResourceText=void 0;var u=s(n(129)),l=s(n(131)),f=c(n(269)),d=s(n(328)),p=n(129),m=n(197),h=n(57),v=n(241),w=s(n(166)),b=n(345),x=l.default.ldp("inbox");function g(e,t,n){return i(this,void 0,void 0,r.mark((function a(){var o,c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w.default.log("verbose","getting "+t),o={Link:"<meta.rdf>;rel="+x},r.next=4,E(e,t,{method:"GET",headers:o},n);case 4:if(c=r.sent){r.next=9;break}throw new u.default("An error happened during the ".concat("GET"," operation on resource: ",t),n);case 9:if(200===c.status){r.next=11;break}throw p.createFetchError(c.status,n);case 11:return r.abrupt("return",c);case 12:case"end":return r.stop()}}),a)})))}function E(e,t,n,a){return i(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new u.default("Please make sure the user is authenticated.","User not authenticated");case 2:return r.prev=2,r.next=5,e.fetch(t,n);case 5:return r.abrupt("return",r.sent);case 8:throw r.prev=8,r.t0=r.catch(2),new u.default(r.t0.message,"Fetch error");case 11:case"end":return r.stop()}}),a,null,[[2,8]])})))}function y(e,t){return i(this,void 0,void 0,r.mark((function n(){var a,o,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.headers.get("content-type")){n.next=3;break}throw new u.default("Cannot parse server response. Server response did not contain a content-type header.");case 3:return n.next=5,t.text();case 5:return o=n.sent,n.next=8,b(o);case 8:return c=n.sent,n.prev=9,n.abrupt("return",new Promise((function(t,n){var r=new f.Store;d.default.parse(c,{contentType:a,baseIRI:e}).on("data",(function(e){r.addQuad(e)})).on("error",(function(e){return n(e)})).on("end",(function(){return t(r)}))})));case 13:throw n.prev=13,n.t0=n.catch(9),new u.default("Error parsing resource at ".concat(t.url," \n ").concat(n.t0.message),"ParseError");case 16:case"end":return n.stop()}}),n,null,[[9,13]])})))}function k(e){return i(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.headers.get("content-type")){t.next=3;break}throw new u.default("Cannot parse server response. Server response did not contain a content-type header.");case 3:return t.prev=3,t.abrupt("return",new Promise((function(t,r){var a=[],o=v.toReadableStream(e.body);d.default.parse(o,{contentType:n}).on("data",(function(e){return a.push(e)})).on("error",(function(e){return r(e)})).on("end",(function(){return t(a)}))})));case 7:throw t.prev=7,t.t0=t.catch(3),new u.default("Error parsing resource at ".concat(e.url," \n ").concat(t.t0.message),"ParseError");case 10:case"end":return t.stop()}}),t,null,[[3,7]])})))}t.loadResourceText=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var a,o;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=!0;try{new URL(t)}catch(r){a=!1}if(!a){n.next=11;break}return n.next=5,g(e,t,"Loading resource");case 5:return o=n.sent,n.next=8,o.text();case 8:return n.abrupt("return",n.sent);case 11:if(!m.isBrowser){n.next=15;break}throw new Error("Local file paths in a browser environment are not yet supported");case 15:return n.next=17,h.readFileSync(t,{encoding:"utf-8"});case 17:return n.abrupt("return",n.sent);case 18:case"end":return n.stop()}}),n)})))},t.getFile=g,t.postFile=function(e,t,n,a,o){return i(this,void 0,void 0,r.mark((function c(){var i,s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w.default.log("verbose","posting "+t+"with"+n),i={"Content-Type":a},r.next=4,E(e,t,{method:"POST",headers:i,body:n},o);case 4:if(s=r.sent){r.next=9;break}throw new u.default("An error happened during the ".concat("Post"," operation on resource: ",t),o);case 9:if(201===s.status&&202!==s.status){r.next=11;break}throw p.createFetchError(s.status,o);case 11:return r.abrupt("return",s);case 12:case"end":return r.stop()}}),c)})))},t.deleteFile=function(e,t,n){return i(this,void 0,void 0,r.mark((function a(){var o;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w.default.log("verbose","deleting "+t),r.next=3,E(e,t,{method:"DELETE"},n);case 3:if(o=r.sent){r.next=8;break}throw new u.default("An error happened during the ".concat("DELETE"," operation on resource: ",t),n);case 8:if(200===o.status){r.next=10;break}throw p.createFetchError(o.status,n);case 10:return r.abrupt("return",o);case 11:case"end":return r.stop()}}),a)})))},t.parseResponseToStore=y,t.parseResponseToQuads=k,t.getQuadArrayFromFile=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e,t);case 2:return a=n.sent,n.abrupt("return",k(a));case 4:case"end":return n.stop()}}),n)})))},t.getStoreFromFile=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e,t);case 2:return a=n.sent,n.abrupt("return",y(t,a));case 4:case"end":return n.stop()}}),n)})))}},131:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.acl="http://www.w3.org/ns/auth/acl#",e.arg="http://www.w3.org/ns/pim/arg#",e.as="https://www.w3.org/ns/activitystreams#",e.cal="http://www.w3.org/2002/12/cal/ical#",e.cert="http://www.w3.org/ns/auth/cert#",e.contact="http://www.w3.org/2000/10/swap/pim/contact#",e.dc="http://purl.org/dc/elements/1.1/",e.dct="http://purl.org/dc/terms/",e.doap="http://usefulinc.com/ns/doap#",e.foaf="http://xmlns.com/foaf/0.1/",e.http="http://www.w3.org/2007/ont/http#",e.httph="http://www.w3.org/2007/ont/httph#",e.icalTZ="http://www.w3.org/2002/12/cal/icaltzd#",e.ldp="http://www.w3.org/ns/ldp#",e.link="http://www.w3.org/2007/ont/link#",e.log="http://www.w3.org/2000/10/swap/log#",e.meeting="http://www.w3.org/ns/pim/meeting#",e.mo="http://purl.org/ontology/mo/",e.owl="http://www.w3.org/2002/07/owl#",e.pad="http://www.w3.org/ns/pim/pad#",e.patch="http://www.w3.org/ns/pim/patch#",e.prov="http://www.w3.org/ns/prov#",e.qu="http://www.w3.org/2000/10/swap/pim/qif#",e.trip="http://www.w3.org/ns/pim/trip#",e.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.rdfs="http://www.w3.org/2000/01/rdf-schema#",e.rss="http://purl.org/rss/1.0/",e.sched="http://www.w3.org/ns/pim/schedule#",e.schema="http://schema.org/",e.sioc="http://rdfs.org/sioc/ns#",e.solid="http://www.w3.org/ns/solid/terms#",e.space="http://www.w3.org/ns/pim/space#",e.stat="http://www.w3.org/ns/posix/stat#",e.tab="http://www.w3.org/2007/ont/link#",e.tabont="http://www.w3.org/2007/ont/link#",e.ui="http://www.w3.org/ns/ui#",e.vcard="http://www.w3.org/2006/vcard/ns#",e.wf="http://www.w3.org/2005/01/wf/flow#",e.xsd="http://www.w3.org/2001/XMLSchema#",e.cco="http://www.ontologyrepository.com/CommonCoreOntologies/",e.dbo="http://dbpedia.org/ontology/",e.ex="http://example.com/",e.tree="https://w3id.org/tree#",e.hydra="http://www.w3.org/ns/hydra/core#",e.void="http://rdfs.org/ns/void#",e.shacl="http://www.w3.org/ns/shacl#"}(r||(r={}));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{namedNode:function(e){return e}},t={},n=function(n){var a=r[n];t[n]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.namedNode(a+t)}};for(var a in r)n(a);return t}();t.default=a},1342:function(e,t){},1343:function(e,t){},1544:function(e,t,n){},1545:function(e,t,n){},1547:function(e,t,n){},1548:function(e,t,n){},1550:function(e,t,n){},1551:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(45),c=n.n(o),i=(n(747),n(748),n(749),n(1622)),s=n(1621),u=n(25),l=n(32),f=n(18),d=n(21),p=n(1608),m=n(105),h=n(1616),v=n(1612),w=n(1613),b=n(1607),x=n(1611),g=n(287),E=n(1606),y=n(1603),k=n(728),I=n.n(k),O=n(730),j=n.n(O),N=n(729),_=n.n(N),S=n(1557),T=n(1609),P=n(1605),R=n(1),C=n.n(R),D=n(8),F=n(10),A=n(9),L=n(12),M=n(13),B=n(35),U=n(140),W=new(0,n(989).NotificationHandler)({auth:n(59),notify:!0}),q={};function H(e){return q[e]||(q[e]=new Q(e)),q[e]}var Q=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(e){var r;return Object(D.a)(this,n),(r=t.call(this)).webId=e,r.initializeAgent(e),r}return Object(A.a)(n,[{key:"initializeAgent",value:function(){var e=Object(F.a)(C.a.mark((function e(t){var n=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.notifications=[],W.watchNotifications({webId:t}).then((function(e){e.on("readable",Object(F.a)(C.a.mark((function t(){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.read())){t.next=10;break}return t.t0=JSON,t.next=4,U.quadArrayToString(r.quads,"application/ld+json");case 4:t.t1=t.sent,r.jsonld=t.t0.parse.call(t.t0,t.t1),n.notifications=[r].concat(n.notifications),n.emit("notifications",n.notifications),t.next=0;break;case 10:case"end":return t.stop()}}),t)}))))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteNotification",value:function(e){W.clearNotifications({webId:this.webId,notificationIds:e}),this.notifications=this.notifications.filter((function(t){return-1===e.indexOf(t.id)})),this.emit("notifications",this.notifications)}},{key:"sendNotification",value:function(){var e=Object(F.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.sendNotification(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(B),V=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){return H(e).on("notifications",(function(e){return o(e)})),function(){null}}),[e]),a},J=n(285),z=n(211),K={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",hydra:"http://www.w3.org/ns/hydra/core#",dbo:"http://dbpedia.org/ontology/",ldes:"https://w3id.org/ldes#",ex:"https://www.example.org/ontology#"},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{namedNode:function(e){return e}},t={},n=function(n){var r=K[n];t[n]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.namedNode(r+t)}};for(var r in K)n(r);return t}(),G=n(14),X=n(38),Z=n(203).default,$=function(){var e;return{getInstance:function(){return e||(e=Z),e}}}();function ee(){return te.apply(this,arguments)}function te(){return(te=Object(F.a)(C.a.mark((function e(){var t,n=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.apply(void 0,n);case 2:return t=e.sent,e.abrupt("return",t&&t[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(F.a)(C.a.mark((function e(){var t,n,r,a,o,c,i,s,u,l,f,d,p,m,h,v,w=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=w.length,n=new Array(t),r=0;r<t;r++)n[r]=w[r];if(e.prev=1,a=$.getInstance(),n&&0!==n.length){e.next=5;break}return e.abrupt("return",null);case 5:o=a[n[0]],c=Object(G.a)(n.slice(1)),e.prev=7,c.s();case 9:if((i=c.n()).done){e.next=16;break}if(s=i.value){e.next=13;break}return e.abrupt("return",null);case 13:o=o[s];case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:u=[],l=!0,f=!1,e.prev=27,p=Object(X.a)(o);case 29:return e.next=31,p.next();case 31:return m=e.sent,l=m.done,e.next=35,m.value;case 35:if(h=e.sent,l){e.next=42;break}v=h,u.push(v.value);case 39:l=!0,e.next=29;break;case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(27),f=!0,d=e.t1;case 48:if(e.prev=48,e.prev=49,l||null==p.return){e.next=53;break}return e.next=53,p.return();case 53:if(e.prev=53,!f){e.next=56;break}throw d;case 56:return e.finish(53);case 57:return e.finish(48);case 58:return e.abrupt("return",u);case 61:return e.prev=61,e.t2=e.catch(1),console.error(e.t2),e.abrupt("return",null);case 65:case"end":return e.stop()}}),e,null,[[1,61],[7,18,21,24],[27,44,48,58],[49,,53,57]])})))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$.getInstance(),e.next=3,n.clearCache(t.split("#")[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=n(59),ie=(n(1534),n(1535)),se=function(e){return ie.getType(e.split("#")[0])||"text/turtle"};function ue(e,t){return le.apply(this,arguments)}function le(){return(le=Object(F.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(t),e.abrupt("return",he("PATCH",t,n,{"Content-Type":"application/sparql-update"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t,n){return de.apply(this,arguments)}function de(){return(de=Object(F.a)(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(t),e.abrupt("return",he("PUT",t,n,r||{"Content-Type":se(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t,n){return me.apply(this,arguments)}function me(){return(me=Object(F.a)(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(t),e.abrupt("return",he("POST",t,n,r||{"Content-Type":se(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t,n,r,a){return ve.apply(this,arguments)}function ve(){return(ve=Object(F.a)(C.a.mark((function e(t,n,r,a,o){var c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={method:t},r&&(c.body=r),a&&(c.headers=a),e.next=6,ce.fetch(n,c);case 6:return i=e.sent,e.next=9,i;case 9:return s=e.sent.status,-1===jn.indexOf(s)&&we(n,s,t,o),e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(0),new Error("Error during ".concat(t," operation on ").concat(n));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function we(e,t,n,r){var a=null;(a=-1!==[401,403].indexOf(t)?"Incorrect authorization during ".concat(n," request to resource on ").concat(e,". Please double check the permissions set in your solid pod!"):-1!==[404].indexOf(t)?"Could not do ".concat(n," request to resource at ").concat(e,", as it has been removed or does not exist."):"Could not do ".concat(n," request to resource at ").concat(e,". Please double check the permissions set in your solid pod!"))&&r?window.alert(a):a&&console.error(a)}var be=n(52),xe=n(731),ge=function(e,t,n){t&&t.code;return new ye(e,t,n)},Ee=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(e,r,a){var o;return Object(D.a)(this,n),(o=t.call(this,a)).response=e,o.requestBody=r,o}return n}(Object(xe.a)(Error)),ye=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(e,r,a){Object(D.a)(this,n);var o="Resource at location ".concat(e," has been removed or does not exist.");return t.call(this,r,a,o)}return n}(Ee),ke=n(204),Ie=ke.AccessControlList.MODES;Ie.COMMENT="Comment";var Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{agents:t,modes:e}},je=function(){var e=Object(F.a)(C.a.mark((function e(t,n,r){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ke.AccessControlList(t,n,n+".acl"),console.log(r),e.next=4,a.createACL(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(F.a)(C.a.mark((function e(t,n,r){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ke.AccessControlList(t,n,n+".acl"),e.next=3,a.deleteACL();case 3:return e.next=5,a.createACL(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_e=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ke.AccessControlList(t,n,n+".acl"),e.abrupt("return",r.getPermissions());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=n(140),Te=function(){var e=Object(F.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,Y.ex("publications"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a,o,c,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,Y.ex("publications"),Y.hydra("member"));case 2:n=e.sent,r=[],a=Object(G.a)(n.entries());try{for(a.s();!(o=a.n()).done;)c=Object(u.a)(o.value,2),c[0],i=c[1],r.push(i)}catch(s){a.e(s)}finally{a.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting data from",t),e.t0=console,e.t1=JSON,e.next=5,ne(t,"type");case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.t0.log.call(e.t0,"getting title",e.t3),e.t4=t,e.next=11,ne(t,Y.rdf("type"));case 11:return e.t5=e.sent,e.next=14,ne(t,Y.ex("title"));case 14:return e.t6=e.sent,e.next=17,ne(t,Y.ex("keywords"));case 17:return e.t7=e.sent,e.next=20,ne(t,Y.ex("authors"));case 20:return e.t8=e.sent,e.next=23,ne(t,Y.ex("date"));case 23:return e.t9=e.sent,e.next=26,ne(t,Y.ex("abstract"));case 26:return e.t10=e.sent,e.next=29,ne(t,Y.ex("file"));case 29:return e.t11=e.sent,e.next=32,ne(t,Y.ex("lifecycleEvents"));case 32:return e.t12=e.sent,(n={id:e.t4,type:e.t5,title:e.t6,keywords:e.t7,authors:e.t8,date:e.t9,abstract:e.t10,file:e.t11,lifecycleEvents:e.t12}).date=n.date&&new Date(n.date),console.log("retrieved:",n),e.abrupt("return",n);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.getResourceAsStore)(t);case 2:return n=e.sent,e.next=5,n.getQuads(t,Y.rdf("type"),Y.ldes("EventStream"));case 5:if((r=e.sent)&&r.length){e.next=8;break}return e.abrupt("return",[]);case 8:return e.next=10,n.getQuads(t,Y.ldp("Resource"),null);case 10:return a=e.sent.map((function(e){return e.object.id})),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ne(t,Y.rdf("type"));case 3:return e.t1=e.sent,e.next=6,ne(t,Y.ex("created_at"));case 6:return e.t2=e.sent,e.next=9,ne(t,Y.ex("token"));case 9:return e.t3=e.sent,(n={id:e.t0,type:e.t1,created_at:e.t2,token:e.t3}).created_at=n.created_at&&new Date(n.created_at),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t);case 2:n=e.sent,r=[],a=Object(G.a)(n);try{for(a.s();!(o=a.n()).done;)c=o.value,r.push(De(c))}catch(i){a.e(i)}finally{a.f()}return e.abrupt("return",Promise.all(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(e,t,n){return"\n  @prefix : <#>.\n  @prefix ex: <".concat(Y.ex(""),"> .\n  @prefix xsd: <").concat(Y.xsd(""),'> .\n  :artefact a ex:Publication ;\n    ex:title "').concat(e.title,'" ;\n    ex:keywords "').concat(e.keywords.join('", "'),'" ;\n    ex:date "').concat(e.date,'"^^xsd:date ;\n    ex:authors <').concat(e.authors.join(">, <"),'> ;\n    ex:abstract "').concat(e.abstract,'" ;\n    ex:file <').concat(t,"> ;\n    ex:lifecycleEvents <").concat(n,"> .\n  ")},Le=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t);case 2:return r=e.sent,e.abrupt("return","INSERT { \n    <".concat(r,"> <").concat(Y.hydra("member"),"> <").concat(n,">.\n  }"));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(e,t){if(t){t.endsWith("/")||(t+="/");var n=e.name.split(".")[0]+"/",r=t+n,a=r+e.name,o=Be(a),c=r+"eventStream/",i=o+"#artefact";return{rootURI:r,publicationURI:o,publicationDocumentURI:a,eventStreamFolderURI:c,artefactURI:i}}},Be=function(e,t){var n=e.split(".");return n.slice(0,n.length-1).join(".")+"_publication."+(t||"ttl")},Ue=function(e,t,n){if(e.code>=400&&e.code<500)throw new ge(t,e,n)},We=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r,a,o,c,i,s,u,l,f,d,p,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,a=t.location,o=Me(r.file,a),c=fe(o.publicationDocumentURI,r.file),Ue(c,o.publicationDocumentURI,r.file.name),i=Ae(r,o.publicationDocumentURI,o.eventStreamFolderURI),e.next=8,fe(o.publicationURI,i,{"Content-Type":"text/turtle"});case 8:return s=e.sent,Ue(s,o.publicationURI,i),e.next=12,"\n@prefix : <#>.\n@prefix folder: <>.\n@prefix ldes: <https://w3id.org/ldes#>.\nfolder: a ldes:EventStream.\n  ";case 12:return u=e.sent,e.next=15,fe(o.eventStreamFolderURI+".meta",u,{"Content-Type":"text/turtle"});case 15:return l=e.sent,Ue(l,o.eventStreamFolderURI+".meta",u),e.next=19,Le(n,o.artefactURI);case 19:return f=e.sent,e.next=22,ue(n,f);case 22:return d=e.sent,Ue(d,n,f),e.next=26,je(n,o.rootURI,[Oe([Ie.READ],null)]);case 26:return e.next=28,je(n,o.eventStreamFolderURI,[Oe([Ie.READ,Ie.WRITE],null)]);case 28:return e.next=30,He(n,"Create");case 30:return p=e.sent,e.next=33,pe(o.eventStreamFolderURI,p);case 33:return m=e.sent,Ue(m,o.eventStreamFolderURI,p),e.abrupt("return",o.publicationURI);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t);case 2:return r=e.sent,a=r.filter((function(e){return e.id===n})),e.abrupt("return",a[0]&&a[0].metadataId);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(e,t){return"\n  @prefix ex: <".concat(Y.ex(""),"> .\n  @prefix xsd: <").concat(Y.xsd(""),"> .\n  <> a ex:").concat(t,' ;\n   ex:created_at "').concat((new Date).toISOString(),'"^^xsd:date ;\n   ex:creator <').concat(e,"> .\n  ")},Qe=function(e){return"\n    @prefix sioc: <".concat(Y.sioc(""),"> .\n    @prefix xsd: <").concat(Y.xsd(""),"> .\n    <> a sioc:Post ;\n     sioc:reply_of <").concat(e.reply_of,'> ;\n     sioc:created_at "').concat(e.created_at,'"^^xsd:date ;\n     sioc:has_creator "').concat(e.has_creator,'" ;\n     sioc:content <').concat(e.content,'> ;\n     sioc:note "').concat(e.node,'" .\n  ')},Ve=function(){var e=Object(F.a)(C.a.mark((function e(t,n,r){var a,o,c,i,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.documentId&&n.has_creator){e.next=2;break}return e.abrupt("return",!1);case 2:return a=Qe(n),e.next=5,pe(n.location,a);case 5:return o=e.sent,Ue(o,n.location,a),c=Object.fromEntries(o.headers).location,i=Sn(n.has_creator)+c.slice(1),console.log("commentLocation",i),e.next=12,je(t,i,[Oe([Ie.READ],null)]);case 12:return s="INSERT { <".concat(n.reply_of,"> <").concat(Y.ex("comments"),"> <").concat(i,"> }"),e.next=15,ue(r,s);case 15:return u=e.sent,Ue(u,r,s),e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Je=function(e){var t=function(e){Object(be.g)();var t=e.notification,n=e.notification.jsonld[0],r=[];for(var o in n)r.push(o);return console.log("notificationProperties",r),a.a.createElement("div",{className:"NotificationCard"},a.a.createElement(J.a,{className:"propertyview",key:t.id},r.map((function(e){return a.a.createElement(J.a,null,a.a.createElement(z.a,{md:4},a.a.createElement("label",{className:"leftaligntext"},e)),a.a.createElement(z.a,{md:7},a.a.createElement("label",null,JSON.stringify(n[e]))))}))))},n=V(e.webId);console.log("NOTIFICATIONS",n);var r=n.sort((function(e,t){return new Date(t.date)-new Date(e.date)}));return a.a.createElement("div",{id:"notificationsviewercomponent",className:"container"},a.a.createElement("h4",null," Notifications "),a.a.createElement("br",null),a.a.createElement(J.a,{className:"propertyview pageheader",key:"header"},a.a.createElement(z.a,{md:1},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Type"))),a.a.createElement(z.a,{md:2},a.a.createElement("label",{className:"leftaligntext"},"Sender")),a.a.createElement(z.a,{md:2},a.a.createElement("label",{className:"leftaligntext"},"Time received")),a.a.createElement(z.a,{md:4},a.a.createElement("label",{className:"leftaligntext"},"Summary")),a.a.createElement(z.a,{md:2},a.a.createElement("label",{className:"centeraligntext"},"Action"))),r.map((function(n,r){return a.a.createElement(t,Object.assign({notification:n},e,{key:r}))})))},ze=n(206),Ke=n.n(ze),Ye=(n(706),n(1619)),Ge=n(1598),Xe=function(){var e=Object(F.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching profile"),e.next=3,t;case 3:return t=e.sent,e.t0=t,e.next=7,ee(t,Y.foaf("name"));case 7:return e.t1=e.sent,e.next=10,ee(t,Y.dbo("birthDate"));case 10:return e.t2=e.sent,e.next=13,ee(t,Y.dbo("location"));case 13:return e.t3=e.sent,e.next=16,ne(t,Y.foaf("knows"));case 16:return e.t4=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,bdate:e.t2,location:e.t3,contacts:e.t4});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="INSERT { <".concat(t,"> <").concat(Y.foaf("knows"),"> <").concat(n,"> }"),e.next=3,ue(t,r);case 3:return a=e.sent,Ue(a,t,r),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="DELETE { <".concat(t,"> <").concat(Y.foaf("knows"),"> <").concat(n,"> }"),e.next=3,ue(t,r);case 3:return a=e.sent,Ue(a,t,r),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=function(e){return e&&e.split("#")[0]+"#publications"},tt=function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",!0);case 4:return n=et(t),r="INSERT { \n    <".concat(t,"> <").concat(Y.ex("publications"),"> <").concat(n,"> .\n    <").concat(n,"> <").concat(Y.rdf("type"),"> <").concat(Y.hydra("Collection"),"> .\n    <").concat(n,"> <").concat(Y.dct("subject"),"> <").concat(Y.ex("Publication"),"> .\n    <").concat(n,"> <").concat(Y.dct("description"),'> "',"Collection of publications",'" .\n  }'),e.next=8,ue(t,r);case 8:return a=e.sent,Ue(a,t,r),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],o=n[1],c=Object(Ge.a)(e);return Object(r.useEffect)((function(){var t=!0;return function(){var n=Object(F.a)(C.a.mark((function n(){var r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,ae(e);case 4:return n.next=6,Xe(e);case 6:r=n.sent,t&&(r?(r.webId=e,o(r)):o(null));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){return t=!1}}),[e,c]),a},rt=(n(203).default,{name:"Name",bdate:"BirthDate",location:"Country"}),at=function(e){var t=e.selectedWebId||e.webId,n=nt(t);return console.log("profile",n),n?a.a.createElement("div",{id:"profileviewercomponent",className:"container"},a.a.createElement("h4",null," Profile "),a.a.createElement("br",null),Object.keys(rt).map((function(e){var t=n[e]&&("bdate"===e?_n(n[e]):n[e]);return a.a.createElement(J.a,{className:"propertyview ",key:e},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,rt[e]))),a.a.createElement(z.a,{md:9},a.a.createElement("label",{className:"leftaligntext"},t||"Value not set")))})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(J.a,null,a.a.createElement(z.a,{md:2},a.a.createElement(Ye.a,{onClick:function(){navigator.clipboard.writeText(t)}},"copy webId")),a.a.createElement(z.a,{md:3}),t&&t===e.webId&&a.a.createElement(z.a,{md:2},a.a.createElement(Ye.a,{onClick:function(){return e.setview(Nn.profileeditor)}},"Edit")))):a.a.createElement("div",{id:"profileviewercomponent",className:"container"},a.a.createElement("h4",null," Profile "),a.a.createElement("br",null),a.a.createElement(Ke.a,{type:"cubes"}))},ot=n(95),ct=n(22),it=ct.i.namedNode,st=ct.i.literal,ut=ct.i.quad;ct.i.variable;function lt(e,t,n){return ft.apply(this,arguments)}function ft(){return(ft=Object(F.a)(C.a.mark((function e(t,n,r){var a,o,c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],o=[ut(it(t),it(Y.foaf("name")),st(r.name)),ut(it(t),it(Y.dbo("birthDate")),st(r.bdate,it(Y.xsd("date")))),ut(it(t),it(Y.dbo("location")),st(r.location))],n.name&&a.push(ut(it(t),it(Y.foaf("name")),st(n.name))),n.bdate&&a.push(ut(it(t),it(Y.dbo("birthDate")),st(n.bdate,it(Y.xsd("date"))))),n.location&&a.push(ut(it(t),it(Y.dbo("location")),st(n.location))),!a.length){e.next=13;break}return e.t1="DELETE { ",e.next=9,Se.quadArrayToString(a,"text/turtle");case 9:e.t2=e.sent,e.t0=e.t1.concat.call(e.t1,e.t2," }"),e.next=14;break;case 13:e.t0="";case 14:if(c=e.t0,!o.length){e.next=23;break}return e.t4="INSERT { ",e.next=19,Se.quadArrayToString(o,"text/turtle");case 19:e.t5=e.sent,e.t3=e.t4.concat.call(e.t4,e.t5," }"),e.next=24;break;case 23:e.t3="";case 24:if(i=e.t3,!a.length){e.next=33;break}return e.t7="WHERE { ",e.next=29,Se.quadArrayToString(a,"text/turtle");case 29:e.t8=e.sent,e.t6=e.t7.concat.call(e.t7,e.t8," }"),e.next=34;break;case 33:e.t6="";case 34:return s=e.t6,e.abrupt("return","\n    ".concat(c,"\n    ").concat(i,"\n    ").concat(s,"\n  "));case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=function(e){var t=nt(e.webId),n=Object(ot.b)({defaultValues:{}}),o=n.register,c=n.handleSubmit,i=(n.control,n.reset),s=function(){var n=Object(F.a)(C.a.mark((function n(r){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ue,n.t1=e.webId,n.next=4,lt(e.webId,t,r);case 4:n.t2=n.sent,(0,n.t0)(n.t1,n.t2),e.setview(Nn.profile);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();if(Object(r.useEffect)((function(){i(t)}),[t]),!t)return a.a.createElement("div",{id:"ProfileEditorComponent",className:"container"},a.a.createElement("h4",null," Profile "),a.a.createElement("br",null),a.a.createElement(Ke.a,{type:"cubes"}));return a.a.createElement("div",{id:"ProfileEditorComponent",className:"container"},a.a.createElement("h4",null," Profile "),a.a.createElement("br",null),a.a.createElement("form",{onSubmit:c(s)},[{label:"Name",name:"name",type:"text"},{label:"BirthDate",name:"bdate",type:"date"},{label:"Country",name:"location",type:"text"}].map((function(e){return a.a.createElement(J.a,{className:"propertyview ",key:e.name},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,e.label))),e.controller?a.a.createElement(z.a,{md:1},e.controller):a.a.createElement(z.a,{md:9},a.a.createElement("input",{type:e.type||"text",className:"leftaligntext inputfield",name:e.name,ref:o({required:!0})})))})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(Ye.a,{type:"submit"},"Submit")))},pt=function(e){return a.a.createElement("div",{id:"HelpComponent",className:"container leftaligntext"},"TODO")},mt=(n(1544),n(1599));var ht=function(){return a.a.createElement("div",{className:"logincomponent"},a.a.createElement("div",{className:"center"},a.a.createElement(mt.a,{className:"loginButton",popup:"https://inrupt.net/common/popup.html"},"Login")))},vt=n(721),wt=n.n(vt),bt=n(722),xt=n.n(bt),gt=n(212),Et=n.n(gt),yt=n(724),kt=n.n(yt),It=n(720),Ot=n.n(It),jt=n(725),Nt=n.n(jt),_t=n(723),St=n.n(_t),Tt=n(726),Pt=n.n(Tt),Rt=n(727),Ct=n.n(Rt),Dt=function(e){e.selectedWebId||e.webId;return a.a.createElement("div",{id:"feedcomponent",className:"container"},a.a.createElement("h4",null," Feed "),a.a.createElement("br",null),"This component shows the activities for which notifications have been received based on the ActivityPub protocol. The goal is for users to subscribe to services (follow certain topics such as linked data, Ugent papers, ...), hosted by different organisations (Ugent, VUB, researchweb?, ...) and see the resulting feed")},Ft=(n(1545),n(107)),At=n.n(Ft),Lt=function(e){var t=nt(e.webId);return a.a.createElement("div",null,t&&t.name||e.webId)},Mt=function(e){var t=e.publicationData,n=Object(be.g)(),r=e.fields||["id","type","title","date","authors","keywords","abstract"];return a.a.createElement("div",{id:"artefactcard",className:At.a.container,key:"artefactcard"+t.id},a.a.createElement(J.a,null,a.a.createElement(z.a,{md:2},a.a.createElement(Ye.a,{style:{width:"100%"},onClick:function(){var e=Tn(Nn.documentinfo,{documentId:t.id});n.push(e)}},"Overview")),a.a.createElement(z.a,{md:2},a.a.createElement(Ye.a,{style:{width:"100%"},onClick:function(){return t.file&&window.open(t.file)}},"Open File"))),t&&r.map((function(e){return(Array.isArray(t[e])?t[e]:[t[e]]).map((function(t,n){return a.a.createElement(J.a,{className:"propertyview ".concat(At.a.profilecardrow),key:e+t},a.a.createElement(z.a,{md:2},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,0===n?e:""))),a.a.createElement(z.a,{md:10},a.a.createElement("label",{className:"leftaligntext"},function(e,t){switch(e){case"date":return new Date(t).toLocaleString();case"authors":return a.a.createElement("a",{href:t},a.a.createElement(Lt,{webId:t}));default:return t}}(e,t))))}))})))},Bt=function(e){var t=e.selectedWebId||e.webId,n=Object(r.useState)([]),o=Object(u.a)(n,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){if(t){var e=!0;return function(){var e=Object(F.a)(C.a.mark((function e(){var n,r,a,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Pe(t);case 3:r=e.sent,a=Object(G.a)(r);try{for(c=function(){var e=o.value;n.push(new Promise((function(t,n){Re(e).then((function(e){e.name=e.title,console.log("resolving",e),t(e)}))})))},a.s();!(o=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return e.next=8,Promise.all(n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(t){e&&i(t)})),function(){return e=!1}}}),[t]),console.log("foundPublications",c),a.a.createElement("div",{id:"documentscomponent",className:"container"},a.a.createElement("h4",null," Publications "),a.a.createElement("br",null),c.map((function(e){return a.a.createElement(Mt,{publicationData:e,key:e.id,fields:["title","authors","abstract","keywords"]})})))},Ut=n(1604),Wt=n(1620),qt=n(69),Ht=n(122),Qt=n.n(Ht),Vt={name:"Name",bdate:"BirthDate",location:"Country"},Jt=function(e){var t=e.profileWebId,n=nt(t);if(!n||!n.name)return a.a.createElement("div",null);var r=function(){var n=Object(F.a)(C.a.mark((function n(){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$e(e.webId,t);case 3:n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),window.alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return a.a.createElement("div",{id:"ProfileCardComponent",className:At.a.container},n&&Object.keys(Vt).map((function(e){var r=n[e]&&("bdate"===e?_n(n[e]):n[e]);return a.a.createElement(J.a,{className:"propertyview ".concat(At.a.profilecardrow),key:e},a.a.createElement(z.a,{sm:12,md:4},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,Vt[e]))),a.a.createElement(z.a,{sm:12,md:8},a.a.createElement("label",{className:"leftaligntext"},"name"===e?a.a.createElement("a",{href:t},r):a.a.createElement("div",null,r))))})),a.a.createElement(J.a,{className:"propertyview ".concat(At.a.profilecardrow),key:"links"},e.showButtons&&[Nn.profile,Nn.documents,Nn.feed].map((function(e){return console.log(e),a.a.createElement(z.a,{sm:3,md:2,key:e.id},a.a.createElement(qt.b,{to:{pathname:e.target,search:"?selectedWebId=".concat(t)}},a.a.createElement(Wt.a,{title:e.label},a.a.createElement(y.a,{"aria-label":e.label},e.icon))))})),e.showButtons&&a.a.createElement(z.a,{sm:3,md:2,key:"unfollow"},a.a.createElement(Wt.a,{title:"unfollow"},a.a.createElement(y.a,{onClick:r},a.a.createElement(Qt.a,null))))))},zt=n(1617),Kt=n(181),Yt=n.n(Kt),Gt=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],c=n[1],i=nt(o);console.log("profile",o,i);var s=function(e){return e.name};var l=function(e){if(!e||!s(e))return o?"Please enter a valid webId":void 0}(i),f=function(){var t=Object(F.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s(i)){t.next=11;break}return t.prev=1,t.next=4,Ze(e.webId,i.id);case 4:t.sent,c(""),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),window.alert(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{id:"ProfileCardSelectorComponent"},a.a.createElement(J.a,{className:"propertyview ",key:"profileselect"},a.a.createElement(z.a,{md:2},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Follow"))),a.a.createElement(z.a,{md:8},a.a.createElement(zt.a,{className:"leftaligntext",value:o||"",placeholder:"webId",name:"location",onChange:function(e){c(e.target.value)}})),a.a.createElement(z.a,{md:2},a.a.createElement(Wt.a,{title:"Follow webId"},a.a.createElement(y.a,{color:"inherit",onClick:f},a.a.createElement(Yt.a,null))))),l&&a.a.createElement("b",{style:{color:"red"}},l),a.a.createElement(J.a,{className:"propertyview ",key:"profileview"},a.a.createElement(z.a,{md:2}),a.a.createElement(z.a,{md:8},a.a.createElement(Jt,{webId:e.webId,profileWebId:o,key:o}))))},Xt=function(e){return a.a.createElement("div",{id:"profilemissingcomponent",className:"container"},a.a.createElement("h4",null," Contacts "),a.a.createElement("br",null),a.a.createElement("p",null,"It seems that something went wrong while loading the profile for ".concat(e.webId,".")),a.a.createElement("p",null,"Please make sure that the correct permissions have been set for this profile."))},Zt=function(e){var t=e.selectedWebId||e.webId,n=nt(t),r=n?n.contacts:[];return console.log("CONTACTS",n),n?a.a.createElement("div",{id:"contactscomponent",className:"container"},a.a.createElement("h4",null," Following "),a.a.createElement("br",null),a.a.createElement(Gt,{webId:t}),a.a.createElement("br",null),a.a.createElement(Ut.a,{container:!0,spacing:3},r&&r.length?r.map((function(t){return a.a.createElement(Ut.a,{item:!0,xs:12,md:6,key:t},a.a.createElement(Jt,{webId:e.webId,profileWebId:t,showButtons:!0}))})):a.a.createElement("p",null,"There are currently no contacts for ".concat(t,".")))):a.a.createElement(Xt,{webId:t})},$t=function(){return a.a.createElement("div",{id:"feedcomponent",className:"container"},a.a.createElement("h4",null," Resource Missing "),a.a.createElement("br",null))},en=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),o=n[0],c=n[1];Object(r.useEffect)((function(){var t=!0,n=function(){var n=Object(F.a)(C.a.mark((function n(){var r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,Xe(e.webIdInput);case 3:r=n.sent,console.log("fetched",r),t&&r&&r.name&&c(r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r=setTimeout((function(){return n()}),800);return function(){clearTimeout(r),t=!1}}),[e.webIdInput]);var i=function(t){if(!t||!t.name)return e.webIdInput?"Please enter a valid webId":void 0}(o);return o?a.a.createElement("div",{id:"ProfileCardErrorWrapper"},i&&a.a.createElement("b",{className:"errortext"},i),a.a.createElement(J.a,{className:"propertyview ",key:"profileview"},a.a.createElement(z.a,{md:2}),a.a.createElement(z.a,{md:8},a.a.createElement(Jt,{webId:e.webId,profileWebId:e.webIdInput,key:e.webIdInput,showButtons:!1})))):a.a.createElement("div",{id:"ProfileCardErrorWrapper"},i&&a.a.createElement("b",{className:"errortext"},i))},tn=function(e){e.selectedWebId||e.webId;var t=Object(be.g)(),n=e.webId?Sn(e.webId)+"public/":null,o=Object(ot.b)({defaultValues:{file:null,title:null,date:(new Date).toISOString().substr(0,10),abstract:null,location:n}}),c=o.register,i=o.handleSubmit,s=o.control,u=o.reset;o.watch;Object(r.useEffect)((function(){var t=e.webId?Sn(e.webId)+"public/":null;u({file:null,title:null,date:(new Date).toISOString().substr(0,10),abstract:null,location:t})}),[e.webId]);var l=Object(ot.a)({control:s,name:"keywords"}),f=l.fields,d=l.append,p=l.remove,m=Object(ot.a)({control:s,name:"authors"}),h=m.fields,v=m.append,w=m.remove;0===f.length&&d({val:""}),0===h.length&&v({webId:""});var b=function(){var n=Object(F.a)(C.a.mark((function n(r){var a,o;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("trying to submit",r),r.authors=r.authors.map((function(e){return e.webId})).filter((function(e){return!!e})),r.keywords=r.keywords.map((function(e){return e.val})).filter((function(e){return!!e})),r.file=r.file[0],n.next=6,E(r);case 6:if(!n.sent){n.next=21;break}return e.webId||window.alert("There seems to be an issue with retrieving your pod information. Please refresh the page and try again."),n.next=10,g(e.webId);case 10:return n.prev=10,n.next=13,We(r,e.webId);case 13:a=n.sent,o=Tn(Nn.documentinfo,{documentId:a}),t.push(o),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(10),window.alert(n.t0);case 21:case"end":return n.stop()}}),n,null,[[10,18]])})));return function(e){return n.apply(this,arguments)}}(),x=function(e){var t=e.control,n=e.index,r=Object(ot.c)({control:t,name:"authors[".concat(n,"].webId")});return a.a.createElement(en,{webIdInput:r})},g=function(){var e=Object(F.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t);case 2:if(e.sent){e.next=6;break}return e.next=6,tt(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.file){e.next=3;break}return window.alert("Please select a file to upload."),e.abrupt("return",!1);case 3:if(t.title){e.next=6;break}return window.alert("Please enter a title for your publication."),e.abrupt("return",!1);case 6:if(t.date){e.next=9;break}return window.alert("Please enter a valid date for your publication."),e.abrupt("return",!1);case 9:if(t.authors&&t.authors.length){e.next=12;break}return window.alert("Please enter one or more valid authors for your publication."),e.abrupt("return",!1);case 12:n=Object(G.a)(t.authors),e.prev=13,n.s();case 15:if((r=n.n()).done){e.next=25;break}return a=r.value,e.next=19,Xe(a);case 19:if((o=e.sent)&&o.name){e.next=23;break}return window.alert("".concat(a," does not reference a valid profile.")),e.abrupt("return",!1);case 23:e.next=15;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(13),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:if(t.abstract){e.next=36;break}return window.alert("Please enter the abstract of the publication."),e.abrupt("return",!1);case 36:if(t.location){e.next=39;break}return window.alert("Please enter a valid location to upload the publication to."),e.abrupt("return",!1);case 39:return e.abrupt("return",!0);case 40:case"end":return e.stop()}}),e,null,[[13,27,30,33]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{id:"uploadcomponent",className:"container"},a.a.createElement("h4",null," Upload "),a.a.createElement("br",null),a.a.createElement("form",{onSubmit:i(b)},a.a.createElement(J.a,{className:"propertyview ",key:"File"},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"File"))),a.a.createElement(z.a,{md:8}," ",a.a.createElement("input",{className:"leftaligntext inputfield",name:"file",type:"file",ref:c({required:!0})}))),a.a.createElement(J.a,{className:"propertyview ",key:"Title"},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Title"))),a.a.createElement(z.a,{md:8},a.a.createElement("input",{className:"leftaligntext inputfield",name:"title",ref:c({required:!0})}))),f.map((function(e,t){e.val;return 0===t?a.a.createElement(J.a,{className:"propertyview ",key:"Keywords"+t,style:{marginTop:0,marginBottom:0}},a.a.createElement(z.a,{md:3}," ",a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Keywords"))," "),a.a.createElement(z.a,{md:8}," ",a.a.createElement("input",{className:"leftaligntext inputfield",key:"keyword"+t,name:"keywords[".concat(t,"].val"),ref:c()})," "),a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{disabled:!0,type:"button"},a.a.createElement(Qt.a,{style:{color:"white"}}))," ")," "):a.a.createElement(J.a,{className:"propertyview ",key:"Keywords"+t,style:{marginTop:0,marginBottom:0}},a.a.createElement(z.a,{md:3}),a.a.createElement(z.a,{md:8}," ",a.a.createElement("input",{className:"leftaligntext inputfield",key:"keyword"+t,name:"keywords[".concat(t,"].val"),ref:c()})," "),a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{type:"button",onClick:function(){return p(t)}},a.a.createElement(Qt.a,{style:{color:"red"}}))," "))})),a.a.createElement(J.a,null," ",a.a.createElement(z.a,{md:3})," ",a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{type:"button",onClick:function(){return d({val:""})}},a.a.createElement(Yt.a,{style:{color:"lightgreen"}}))," ")," "),a.a.createElement(J.a,{className:"propertyview ",key:"Date"},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Date"))),a.a.createElement(z.a,{md:8},a.a.createElement("input",{className:"leftaligntext inputfield",type:"date",name:"date",ref:c({required:!0})}))),h.map((function(e,t){e.webId;return 0===t?a.a.createElement(J.a,{className:"propertyview ",key:"Authors"+t,style:{marginTop:0,marginBottom:0}},a.a.createElement(z.a,{md:3}," ",a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Authors"))," "),a.a.createElement(z.a,{md:8}," ",a.a.createElement("input",{className:"leftaligntext inputfield",key:"author"+t,name:"authors[".concat(t,"].webId"),ref:c()})," "),a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{disabled:!0,type:"button"},a.a.createElement(Qt.a,{style:{color:"white"}}))," ")," ",a.a.createElement(z.a,{md:3}),a.a.createElement(z.a,{md:8},a.a.createElement(x,{control:s,index:t}))):a.a.createElement(J.a,{className:"propertyview ",key:"Keywords"+t,style:{marginTop:0,marginBottom:0}},a.a.createElement(z.a,{md:3}),a.a.createElement(z.a,{md:8}," ",a.a.createElement("input",{className:"leftaligntext inputfield",key:"author"+t,name:"authors[".concat(t,"].webId"),ref:c()})," "),a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{type:"button",onClick:function(){return w(t)}},a.a.createElement(Qt.a,{style:{color:"red"}}))," "),a.a.createElement(z.a,{md:3}),a.a.createElement(z.a,{md:8},a.a.createElement(x,{control:s,index:t})))})),a.a.createElement(J.a,null," ",a.a.createElement(z.a,{md:3})," ",a.a.createElement(z.a,{md:1}," ",a.a.createElement(y.a,{type:"button",onClick:function(){return v({webId:""})}},a.a.createElement(Yt.a,{style:{color:"lightgreen"}}))," ")," "),a.a.createElement(J.a,{className:"propertyview ",key:"Abstract"},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Abstract"))),a.a.createElement(z.a,{md:8},a.a.createElement("textarea",{className:"leftaligntext inputfield",name:"abstract",ref:c({required:!0}),style:{minHeight:"150px"}}))),a.a.createElement(J.a,{className:"propertyview ",key:"Upload location"},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Upload location"))),a.a.createElement(z.a,{md:8},a.a.createElement("input",{className:"leftaligntext inputfield",name:"location",ref:c({required:!0})}))),a.a.createElement("br",null),a.a.createElement(Ye.a,{type:"submit"},"Submit")))},nn=(n(1547),function(e){var t=Object(r.useState)({comment:{id:e.id,replyOf:"",createdAt:null,creator:"",content:"",note:""},creatorName:""}),n=Object(u.a)(t,2),o=n[0],c=(n[1],o.comment.createdAt?o.comment.createdAt.toLocaleString():""),i=Object.values(e.selection)[0],s=a.a.createElement("div",null,c," In reply to: ",a.a.createElement("a",{href:o.comment.replyOf},i.title));return a.a.createElement("div",{key:e.id},a.a.createElement(S.a,{className:"flex-start listitem"},a.a.createElement(P.a,{primary:s,secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{component:"span",variant:"body2",color:"textPrimary"},o.creatorName)," \u2014 ",o.comment.content)})),a.a.createElement(E.a,{variant:"inset",component:"li"}))}),rn=(n(1548),function(e){var t=e.webId?Sn(e.webId)+"public/":null,n=Object(ot.b)({defaultValues:{comment:"",location:t}}),o=n.register,c=n.handleSubmit,i=(n.control,n.reset),s=(n.watch,function(){var n=Object(F.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("handle submit",r),a={type:Y.sioc("Post"),content:r.comment,reply_of:e.documentId,created_at:(new Date).toISOString(),has_creator:e.webId,note:"This post was created using the Mellon web application.",location:r.location,documentId:e.documentId},e.metadataId){n.next=5;break}return window.alert("Could not retrieve document metadata file."),n.abrupt("return");case 5:return n.next=7,Ve(e.webId,a,e.metadataId);case 7:n.sent||window.alert("Something went wrong while trying to upload your comment."),i({comment:"",location:t});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return Object(r.useEffect)((function(){var t=e.webId?Sn(e.webId)+"public/":null;i({comment:"",location:t})}),[e.webId]),a.a.createElement("div",{className:"commentaddcontainer"},a.a.createElement("form",{onSubmit:c(s)},a.a.createElement(J.a,{className:"",key:"comment"},a.a.createElement(z.a,{md:12},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Comment")))),a.a.createElement(J.a,null,a.a.createElement(z.a,{md:12},a.a.createElement("textarea",{className:"leftaligntext inputfield",name:"comment",ref:o({required:!0}),style:{minHeight:"70px"}}))),a.a.createElement("br",null),a.a.createElement(J.a,{className:"",key:"storagefolder"},a.a.createElement(z.a,{sm:12,md:3},a.a.createElement("label",{className:"leftaligntext"},a.a.createElement("b",null,"Storage location"))),a.a.createElement(z.a,{sm:12,md:9}," ",a.a.createElement("input",{className:"leftaligntext inputfield",name:"location",type:"text",ref:o({required:!0})}))),a.a.createElement("br",null),a.a.createElement(Ye.a,{type:"submit"},"Submit")))}),an=n(286),on=n.n(an),cn=void 0,sn=function(e){var t=Object(r.useState)({commentIds:[],commentDates:[]}),n=Object(u.a)(t,2),o=n[0],c=n[1];console.log("commentsdinges",e.documentId);var i=function(e){console.log("updating date",e);for(var t=cn.state.commentDates.slice(),n=0;n<t.length;n++)if(t[n].id===e.id)return;t.push(e),c({commentIds:o.commentIds,commentDates:t})},s=o.commentIds.map((function(e){return function(e){var t,n=cn.state.commentDates,r=Object(G.a)(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.id===e)return a}}catch(o){r.e(o)}finally{r.f()}return{id:e,date:null}}(e)}));console.log("idsWithDates",JSON.stringify(s,null,2)),s.sort((function(e,t){return console.log("comparing",JSON.stringify(e),JSON.stringify(t)),t.date?e.date?t.date.getTime()-e.date.getTime():t:e})),console.log("sortedComments",JSON.stringify(s,null,2));var l=s.map((function(t){return a.a.createElement(nn,{key:t.id,id:t.id,selection:e.selection,updateDate:i})}));return a.a.createElement("div",{className:" ".concat(on.a.sidebarheight," sidebarcomponentcontainer")},a.a.createElement("div",{className:"uppercontainer"},a.a.createElement("p",null,"Comments"),a.a.createElement(b.a,{className:" ".concat(on.a.commentslist," disable-scrollbars")},l)),a.a.createElement("div",{className:"".concat(on.a.addcommentfield," lowercontainer disable-scrollbars")},a.a.createElement(rn,Object.assign({className:"commentAdd",selection:e.selection},e))))},un=n(24),ln=n(719),fn=function(e){var t=e.value,n=e.row.index,r=e.column.id,o=e.updateMyData,c=a.a.useState(t),i=Object(u.a)(c,2),s=i[0],l=i[1];a.a.useEffect((function(){l(t)}),[t]);return a.a.createElement("input",{value:null===s?"Everyone":s,placeholder:"WebID or 'Everyone'",onChange:function(e){l(e.target.value)},onBlur:function(){var e=s.trim();o(n,r,"everyone"===e.toLowerCase()?null:e)}})},dn=function(e){var t=e.value,n=e.row.index,r=e.column.id,o=e.updateMyData,c=a.a.useState(t),i=Object(u.a)(c,2),s=i[0],l=i[1];a.a.useEffect((function(){l(t)}),[t]);return a.a.createElement("input",{type:"checkbox",value:s,onChange:function(e){l(e.target.checked),o(n,r,e.target.checked)},checked:s})},pn=function(e){var t=e.row.index,n=e.removeRow;return a.a.createElement("div",{className:"removeButton",onClick:function(){return n(t)}},"X")},mn=function(e){var t=e.checkAll,n=e.column.id,r=a.a.useState(!1),o=Object(u.a)(r,2),c=o[0],i=o[1];return a.a.createElement(a.a.Fragment,null,n[0].toUpperCase()+n.slice(1),a.a.createElement("br",null),a.a.createElement("input",{type:"checkbox",onClick:function(e){t(n,!c),i(!c)}}))};function hn(e){var t=e.tableData,n=e.submitValues,r=a.a.useMemo((function(){return[{Header:"Name",accessor:"agent",Cell:fn},{Header:mn,accessor:"read"},{Header:mn,accessor:"write"},{Header:mn,accessor:"comment"},{Header:mn,accessor:"control"},{Header:"",accessor:"deleteRow",Cell:pn}]}),[]),o={Cell:dn},c=a.a.useState(t),i=Object(u.a)(c,2),s=i[0],d=i[1];a.a.useEffect((function(){return d(t)}),[t]);var p=Object(ln.useTable)({columns:r,data:s,defaultColumn:o,updateMyData:function(e,t,n){d((function(r){return r.map((function(a,o){return o===e?Object(l.a)(Object(l.a)({},r[e]),{},Object(f.a)({},t,n)):a}))}))},removeRow:function(e){s.splice(e,1),d(Object(un.a)(s))},checkAll:function(e,t){d((function(n){return n.map((function(n){return n[e]=t,n}))}))}}),m=p.getTableProps,h=p.getTableBodyProps,v=p.headerGroups,w=p.rows,b=p.prepareRow;return a.a.createElement(a.a.Fragment,null,a.a.createElement("table",Object.assign({},m(),{className:"access-control-table"}),a.a.createElement("thead",null,v.map((function(e){return a.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return a.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),a.a.createElement("tbody",h(),w.map((function(e,t){return b(e),a.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return a.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){s.push({agent:"",read:!1,write:!1,comment:!1,control:!1}),d(Object(un.a)(s))}},"Add new"),a.a.createElement("button",{onClick:function(){return n(s)}},"Save permissions")))}var vn=function(e){var t=Object(r.useState)({contacts:[],permissions:[],commentPermissions:[],tableData:[]}),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),f=s[0],d=s[1];Object(r.useEffect)((function(){var t=!0;if(e.webId&&e.documentId)return p(e.documentId).then((function(e){t&&c(e)})),function(){t=!1}}),[e.webId,e.documentId]);var p=function(){var t=Object(F.a)(C.a.mark((function t(){var n,r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe(e.webId);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=null;case 5:return n=t.t0,r=n&&n.contacts||[],a=Object(l.a)({},o),t.prev=8,t.next=11,_e(e.webId,e.documentId);case 11:a.permissions=t.sent,t.next=16;break;case 14:t.prev=14,t.t1=t.catch(8);case 16:return t.prev=16,t.t2=_e,t.t3=e.webId,t.next=21,qe(e.webId,e.documentId);case 21:return t.t4=t.sent,t.next=24,(0,t.t2)(t.t3,t.t4);case 24:a.commentPermissions=t.sent,t.next=29;break;case 27:t.prev=27,t.t5=t.catch(16);case 29:return a.tableData=m(a.permissions,a.commentPermissions,r),t.abrupt("return",a);case 31:case"end":return t.stop()}}),t,null,[[8,14],[16,27]])})));return function(){return t.apply(this,arguments)}}(),m=function(e,t,n){n=n||[];var r=[],a={},o={read:!1,write:!1,comment:!1,control:!1};function c(e){null===e.agents&&(e.agents=[null]);var t,n=Object(G.a)(e.agents);try{for(n.s();!(t=n.n()).done;){var c=t.value,i=a[c];void 0===i&&(i=r.length,a[c]=i,r.push(Object(l.a)(Object(l.a)({},o),{},{agent:c})));var s,u=Object(G.a)(e.modes);try{for(u.s();!(s=u.n()).done;){var f=s.value;r[i][f.toLowerCase()]=!0}}catch(d){u.e(d)}finally{u.f()}}}catch(d){n.e(d)}finally{n.f()}}var i,s=Object(G.a)(e);try{for(s.s();!(i=s.n()).done;){c(i.value)}}catch(v){s.e(v)}finally{s.f()}var u,f=Object(G.a)(t);try{for(f.s();!(u=f.n()).done;){var d=u.value;(d.modes.includes(Ie.APPEND)||d.modes.includes(Ie.WRITE))&&(d.modes=[Ie.COMMENT],c(d))}}catch(v){f.e(v)}finally{f.f()}var p,m=Object(G.a)(n);try{for(m.s();!(p=m.n()).done;){var h=p.value;void 0===a[h]&&(a[h]=r.length,r.push(Object(l.a)(Object(l.a)({},o),{},{agent:h})))}}catch(v){m.e(v)}finally{m.f()}return r},h=function(){var t=Object(F.a)(C.a.mark((function t(n){var r,a,c,i,s,l,f,p,m,h,v;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=function(e,t,n){if(!n.length)return e;if(n.sort(),null===t)return e.push({agents:null,modes:n}),e;var r,a=Object(G.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.modes.join("")===n.join("")&&null!==o.agents)return o.agents.push(t),e}}catch(c){a.e(c)}finally{a.f()}return e.push({agents:[t],modes:n}),e},console.log("submitValues",n),r=[],a=[],i=Object(G.a)(o.tableData);try{for(i.s();!(s=i.n()).done;){for((l=s.value).comment&&(a=c(a,l.agent,[Ie.APPEND])),f=[],p=0,m=[[Ie.READ,l.read],[Ie.WRITE,l.write],[Ie.CONTROL,l.control]];p<m.length;p++)h=Object(u.a)(m[p],2),v=h[0],h[1]&&f.push(v);r=c(r,l.agent,f)}}catch(w){i.e(w)}finally{i.f()}return console.log("permissions",r,a),t.next=9,Ne(e.webId,e.documentId,r);case 9:return t.sent,t.t0=Ne,t.t1=e.webId,t.next=14,qe(e.webId,e.documentId);case 14:return t.t2=t.sent,t.t3=a,t.next=18,(0,t.t0)(t.t1,t.t2,t.t3);case 18:t.sent,d(!0),setTimeout((function(){return d(!1)}),3500);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Permissions for this file"),a.a.createElement(hn,{tableData:o.tableData,submitValues:h}),f&&a.a.createElement("p",null,"The submission was successfull"))},wn=n(382),bn=n.n(wn),xn=function(e){var t=e.webId,n=(e.selectedWebId||e.webId,e.documentId),o=Object(be.g)(),c=Object(r.useState)(null),i=Object(u.a)(c,2),s=i[0],l=i[1],f=Object(r.useState)(null),d=Object(u.a)(f,2),p=(d[0],d[1]);Object(r.useEffect)((function(){if(n){Re(n).then((function(e){l(e)}))}}),[n]),Object(r.useEffect)((function(){if(s&&s.lifecycleEvents&&s.lifecycleEvents[0]){Fe(s.lifecycleEvents[0]).then((function(e){p(e)}))}}),[s]);var m=function(){var t=e.selectedWebId?{selectedWebId:e.selectedWebId}:{},n=Tn(Nn.documents,t);o.push(n)};if(!t||!n)return a.a.createElement("div",{id:"documentinfoviewer",className:"container"},a.a.createElement(z.a,{md:2},a.a.createElement(y.a,{onClick:m},a.a.createElement(bn.a,null))),a.a.createElement($t,null));return a.a.createElement("div",{id:"documentinfoviewer",className:"container"},a.a.createElement(J.a,null,a.a.createElement(z.a,{md:2},a.a.createElement(y.a,{onClick:m},a.a.createElement(bn.a,null))),a.a.createElement(z.a,{md:2},a.a.createElement(Ye.a,{onClick:function(){return s.file&&window.open(s.file)}},"Open File"))),a.a.createElement(J.a,null,a.a.createElement(z.a,{md:6,sm:12},s&&["title","date","authors","keywords","abstract"].map((function(e){return a.a.createElement(J.a,{className:"",key:e,style:{height:"auto"}},a.a.createElement(z.a,{md:3},a.a.createElement("label",{className:"leftaligntext"},e)),a.a.createElement(z.a,{md:9},a.a.createElement("label",{className:"leftaligntext"},function(e,t){if(!e)return null;switch(e){case"date":return t[e].toLocaleString();default:return Array.isArray(t[e])?t[e].join(", "):t[e]}}(e,s))))})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(vn,{webId:t,documentId:s})),a.a.createElement(z.a,{md:6,sm:12},a.a.createElement(sn,{webId:t,documentId:s}))))},gn=function(e,t){if(!t||null===t)throw new Error("Creating subscription notification without subscription targets.");var n,r={"@context":"https://www.w3.org/ns/activitystreams",summary:"Subscription event","@type":"Follow",object:[],actor:{"@id":e,"@type":"Person"}},a=Object(G.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!o.topic||!o.value)throw new Error("Incorrect subscription format.");r.object.push({"https://www.example.org/ontology#property":o.topic,"https://www.example.org/ontology#propertyValue":o.value})}}catch(c){a.e(c)}finally{a.f()}return JSON.stringify(r,null,2)},En=(Object(p.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},dividerDiv:{height:"10px"}}})),function(e){var t=Object(ot.b)(),n=t.register,r=t.handleSubmit,o=t.errors;return a.a.createElement("div",{id:"createsubscriptioncomponent",className:At.a.container},a.a.createElement("form",{onSubmit:r((function(t){console.log(t);var n=new Rn(t.topic,t.value,t.url);e.onSubmit(n)}))},a.a.createElement(J.a,null,a.a.createElement(z.a,null,a.a.createElement("b",null,"Topic")),a.a.createElement(z.a,null,a.a.createElement("b",null,"Value"))),a.a.createElement(J.a,null,a.a.createElement(z.a,null,a.a.createElement("select",{name:"topic",ref:n({required:!0})},a.a.createElement("option",{value:Pn.ARTEFACTID},"artefact"),a.a.createElement("option",{value:Pn.AUHTORID},"author"),a.a.createElement("option",{value:Pn.KEYWORD},"keyword"),a.a.createElement("option",{value:Pn.TITLE},"title"))),a.a.createElement(z.a,null,a.a.createElement("input",{name:"value",className:"inputfield",ref:n({required:!0})}))),a.a.createElement(J.a,null,a.a.createElement(z.a,null,o.topic&&a.a.createElement("span",{className:"errortext"},"This field is required")),a.a.createElement(z.a,null,o.value&&a.a.createElement("span",{className:"errortext"},"This field is required"))),a.a.createElement(J.a,null,a.a.createElement("input",{type:"submit"}))))}),yn=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)([new Rn(Pn.AUHTORID,"https://carol.localhost:8443/profile/card#me","https://myservice.com/subscriptions/",1),new Rn(Pn.KEYWORD,"test","https://myservice.com/subscriptions/",2),new Rn(Pn.TITLE,"Test title","https://myservice.com/subscriptions/",3),new Rn(Pn.ARTEFACTID,"https://carol.localhost:8443/publications/publication.ttl","https://myservice.com/subscriptions/",4)]),s=Object(u.a)(i,2),l=s[0],f=s[1],d=function(){var t=Object(F.a)(C.a.mark((function t(n){var r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=gn(e.webId,[n]),H(e.webId).sendNotification({to:[e.webId],contentType:"application/ld+json",contentTypeOutput:"application/ld+json",notification:r}),(a=l.slice()).push(n),f(a),c(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(n=l.slice()).filter((function(e){return e.id!==t.id})),f(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{id:"subscrptioncomponent",className:"container"},a.a.createElement("h4",null," Subscriptions "),o?a.a.createElement(En,{onSubmit:function(e){return d(e)}}):a.a.createElement(Ye.a,{onClick:function(){return c(!0)}},"Add new subscription"),a.a.createElement("div",{style:{height:"20px"}}),a.a.createElement("div",{className:"subscriptionListings"},a.a.createElement(J.a,null,a.a.createElement(z.a,null,a.a.createElement("b",null,"Topic")),a.a.createElement(z.a,null,a.a.createElement("b",null,"Value")),a.a.createElement(z.a,null,a.a.createElement("b",null,"Service URL")),a.a.createElement(z.a,null,a.a.createElement("b",null,"Remove subscription"))),a.a.createElement("div",{style:{height:"5px"}}),l.map((function(e){return t=e,a.a.createElement("div",null,a.a.createElement("div",{className:At.a.container},a.a.createElement(J.a,{key:t.id||Math.round(100*Math.random())},a.a.createElement(z.a,null," ",t.topic," "),a.a.createElement(z.a,null," ",t.value," "),a.a.createElement(z.a,null," ",t.url," "),t.id?a.a.createElement(z.a,null,a.a.createElement(Ye.a,{onClick:function(){return p(t)}}," ","X"," ")):a.a.createElement(z.a,null,"Pending"))),a.a.createElement("div",{style:{height:"5px"}}));var t}))),a.a.createElement("div",{className:"subscriptionCreation"}))},kn=n(1618),In=n(204),On=function(e,t){return Object(In.withWebId)((function(n){var o=Object(r.useState)(e),c=Object(u.a)(o,2),i=c[0],s=c[1],f=new URLSearchParams(n.location.search+n.location.hash).get("selectedWebId"),d=new URLSearchParams(n.location.search+n.location.hash).get("documentId"),p=Object(l.a)(Object(l.a)({},n),{},{setview:s,selectedWebId:f,documentId:d}),m=i.generation(p);return t&&alert(t),a.a.createElement("div",{id:"mainscreencontainer",className:"container"},a.a.createElement(kn.a,null,m))}))},jn=[200,201,202];var Nn={login:{id:"login",label:"Login",component:ht,generation:function(e){return a.a.createElement(ht,e)},icon:a.a.createElement(Ot.a,null),target:"/login",newtab:!1},profile:{id:"profile",label:"Profile",component:at,generation:function(e){return a.a.createElement(at,e)},icon:a.a.createElement(wt.a,null),target:"/profile",newtab:!1},profileeditor:{id:"profileedit",label:"Profile Editor",component:dt,generation:function(e){return a.a.createElement(dt,e)},icon:a.a.createElement(Et.a,null),target:"/profileedit",newtab:!1},notifications:{id:"notifications",label:"Notifications",component:Je,generation:function(e){return a.a.createElement(Je,e)},icon:a.a.createElement(xt.a,null),target:"/notifications",newtab:!1},help:{id:"help",label:"Help",component:pt,generation:function(e){return a.a.createElement(pt,e)},icon:a.a.createElement(Et.a,null),target:"/help",newtab:!0},feed:{id:"feed",label:"Feed",component:Dt,generation:function(e){return a.a.createElement(Dt,e)},icon:a.a.createElement(St.a,null),target:"/feed",newtab:!1},documents:{id:"documents",label:"Publications",component:Bt,generation:function(e){return a.a.createElement(Bt,e)},icon:a.a.createElement(kt.a,null),target:"/documents",newtab:!1},contacts:{id:"contacts",label:"Following",component:Zt,generation:function(e){return a.a.createElement(Zt,e)},icon:a.a.createElement(Nt.a,null),target:"/contacts",newtab:!1},missing:{id:"missing",label:"Resource Missing",component:$t,generation:function(e){return a.a.createElement($t,e)},icon:a.a.createElement(Et.a,null),target:"/missing",newtab:!1},upload:{id:"upload",label:"Upload",component:tn,generation:function(e){return a.a.createElement(tn,e)},icon:a.a.createElement(Pt.a,null),target:"/upload",newtab:!1},documentinfo:{id:"documentinfo",label:"Document info",component:xn,generation:function(e){return a.a.createElement(xn,e)},icon:a.a.createElement(Et.a,null),target:"/docinfo",newtab:!1},listsub:{id:"subcriptions",label:"Subcriptions",component:yn,generation:function(e){return a.a.createElement(yn,e)},icon:a.a.createElement(Ct.a,null),target:"/subscriptions",newtab:!1}};function _n(e){e=new Date(e);var t=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+t+"/"+e.getFullYear()}function Sn(e){var t=e;return t=(t=t.replace(/(^\w+:|^)\/\//,"")).split("/").slice(1).join("/"),t=e.substring(0,e.indexOf(t)).replace(/\/$/,"")+"/"}function Tn(e,t){for(var n=e.target,r="?",a=0,o=Object.entries(t);a<o.length;a++){var c=Object(u.a)(o[a],2),i=c[0];c[1]&&(r+="".concat(i,"=").concat(t[i],"&"))}return"?"===r?n:n+r.slice(0,-1)}var Pn={AUHTORID:"authorId",ARTEFACTID:"artefactId",KEYWORD:"keyword",TITLE:"title"},Rn=function e(t,n,r,a){Object(D.a)(this,e),this.topic=t,this.value=n,this.url=r,this.id=a},Cn=n(1610),Dn=n(1615),Fn=n(1614),An=(n(1550),240),Ln=Object(p.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:An,width:"calc(100% - ".concat(An,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:An,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:An,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(f.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Mn=Object(In.withWebId)((function(e){var t,n,r=a.a.useState(!0),o=Object(u.a)(r,2),c=o[0],l=o[1],p=(e.sideBarItems||[]).map((function(e,t){return function(e,t){var n=Nn[e];switch(e){case"divider":return a.a.createElement(E.a,{key:t});case"br":return a.a.createElement("br",{key:t});default:return n?a.a.createElement(qt.b,{to:n.target,target:n.newtab?"_blank":void 0,style:{textDecoration:"none",color:"black"},key:t},a.a.createElement(S.a,{button:!0,className:"nonactive",key:t},a.a.createElement(T.a,null,n.icon),a.a.createElement(P.a,{primary:n.label}))):a.a.createElement("div",null)}}(e,t)})),k=(e.topBarItems||[]).map((function(t,n){return function(t,n){var r=Nn[t],o=0===n?"topmenuitem topmenuitemleft":"topmenuitem";switch(t){case"notifications":return a.a.createElement(qt.b,{to:r.target,className:o,target:r.newtab?"_blank":void 0,key:n},a.a.createElement(Bn,{item:r,webId:e.webId,index:n,key:"topmenuitem"+n}));default:return a.a.createElement(qt.b,{to:r.target,className:o,target:r.newtab?"_blank":void 0,key:n},a.a.createElement(Cn.a,{key:n},a.a.createElement(y.a,{"aria-label":r.label,style:{color:"white"}},r.icon)))}}(t,n)}));An=p.length?An:0;var O=Ln(),N=Object(m.a)();return a.a.createElement("div",{className:O.root},a.a.createElement(x.a,null),a.a.createElement(v.a,{position:"fixed",className:Object(d.a)(O.appBar,Object(f.a)({},O.appBarShift,c))},a.a.createElement(w.a,null,a.a.createElement(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return l(!0)},edge:"start",className:Object(d.a)(O.menuButton,Object(f.a)({},O.hide,c))},a.a.createElement(I.a,null)),a.a.createElement(qt.b,{to:"/",target:"_blank"},a.a.createElement(g.a,{variant:"h6",style:{color:"white"},noWrap:!0},"Mellon")),k,e.hidelogout?a.a.createElement("div",null):a.a.createElement(Cn.a,{className:"topmenuitem"},a.a.createElement(Fn.a,{className:"logoutButton"})))),p.length?a.a.createElement(h.a,{variant:"permanent",className:"".concat(Object(d.a)(O.drawer,(t={},Object(f.a)(t,O.drawerOpen,c),Object(f.a)(t,O.drawerClose,!c),t))," sidebar"),classes:{paper:Object(d.a)((n={},Object(f.a)(n,O.drawerOpen,c),Object(f.a)(n,O.drawerClose,!c),n))}},a.a.createElement(w.a,{className:"".concat(O.toolbar," toolbarcolor")},a.a.createElement(y.a,{onClick:function(){return l(!1)}},"rtl"===N.direction?a.a.createElement(_.a,{style:{fill:"white"}}):a.a.createElement(j.a,{style:{fill:"white"}}))),a.a.createElement(E.a,null),a.a.createElement("div",{className:"sidebarcontent"},a.a.createElement(b.a,null,p))):a.a.createElement("div",null),a.a.createElement("main",{className:O.content},a.a.createElement(w.a,null),a.a.createElement(s.a,null,a.a.createElement(be.d,null,a.a.createElement(be.b,{exact:!0,path:"/login",key:Nn.login.id,component:On(Nn.login)}),a.a.createElement(be.a,{to:"/login"}))),a.a.createElement(i.a,null,a.a.createElement(be.d,null,Object.keys(Nn).map((function(e,t){return a.a.createElement(be.b,Object(f.a)({exact:!0,path:Nn[e].target,key:Nn[e].id,component:On(Nn[e])},"key",t))})),a.a.createElement(be.b,{path:"",key:"defaultroute",component:On(Nn.missing)})))))})),Bn=function(e){var t=Nn.notifications,n=V(e.webId);return a.a.createElement(Cn.a,{className:e.className,key:e.index},a.a.createElement(y.a,{"aria-label":t.label,color:"inherit",style:{color:"white"}},a.a.createElement(Dn.a,{badgeContent:n.length,color:"secondary"},t.icon)))};var Un=function(){var e={defaultview:"login",sideBarItems:["login","help"],topBarItems:["help"],hidelogout:!0},t={defaultView:"profile",sideBarItems:["divider","profile","divider","documents","divider","feed","divider","contacts","divider","listsub","divider","br","divider","upload","divider"],topBarItems:["notifications","help"],hidelogout:!1};return Object(r.useEffect)((function(){document.title="Mellon"}),[]),a.a.createElement("div",{className:"App"},a.a.createElement(i.a,null,a.a.createElement(Mn,{defaultview:t.defaultview,sideBarItems:t.sideBarItems,topBarItems:t.topBarItems,hidelogout:t.hidelogout})),a.a.createElement(s.a,null,a.a.createElement(Mn,{defaultview:e.defaultview,sideBarItems:e.sideBarItems,topBarItems:e.topBarItems,hidelogout:e.hidelogout})))};function Wn(){return Object(r.useEffect)((function(){document.title="Mellon - Help"}),[]),a.a.createElement("div",null,a.a.createElement("h1",null,"".concat(window.location)),a.a.createElement(Mn,{defaultview:"help",sideBarItems:[],topBarItems:[],hidelogout:!0}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(qt.a,null,a.a.createElement(be.d,null,a.a.createElement(be.b,{path:"/help"},a.a.createElement(Wn,null)),a.a.createElement(be.b,{path:"/"},a.a.createElement(Un,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},241:function(e,t,n){"use strict";var r=n(1),a=n(11),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notifySystem=t.toReadableStream=t.quadsToString=t.streamToQuads=t.DEFAULTFILTERNAME=void 0;var i=c(n(129)),s=c(n(131)),u=c(n(1090)),l=n(1101),f=n(248),d=(n(345),n(556));t.DEFAULTFILTERNAME="default",t.streamToQuads=function(e){return new Promise((function(t,n){var r=[];e.on("data",(function(e){r.push(e)})).on("error",(function(e){return n(new i.default("Error parsing notification body.\n".concat(e.message),"Notification parsing"))})).on("end",(function(){return t(r)}))}))},t.quadsToString=function(e,t){t=t||"application/ld+json";var n=f(e),r=u.default.serialize(n,{contentType:t});return d(r)},t.toReadableStream=function(e){return n(238)(e)?e:n(542).toNodeReadable(e)},t.notifySystem=function(e,n,c,i){return o(this,void 0,void 0,r.mark((function u(){var f,d;return r.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(f=function(e){return o(this,void 0,void 0,r.mark((function n(){var o,u,l,f,d;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=null,u=null,l=a(e);try{for(l.s();!(f=l.n()).done;)(d=f.value).predicate.value===s.default.dct("creator")&&(o=d.object.value),d.predicate.value===s.default.as("content")&&(u=d.object.value)}catch(r){l.e(r)}finally{l.f()}if(u){n.next=8;break}return n.next=7,t.quadsToString(e,"text/turtle");case 7:u=n.sent;case 8:return i&&(u="Received: ".concat(i,"\n")+u),c&&(u="Filter: ".concat(c,"\n")+u),o&&(u="Sender: ".concat(o,"\n")+u),n.abrupt("return",u);case 13:case"end":return n.stop()}}),n)})))},!n){u.next=7;break}return u.next=4,n(e);case 4:u.t0=u.sent,u.next=10;break;case 7:return u.next=9,f(e);case 9:u.t0=u.sent;case 10:d=u.t0,(new l.SystemNotificationHander).notify({title:"Solid notification",message:d});case 12:case"end":return u.stop()}}),u)})))}},286:function(e,t,n){e.exports={sidebarheight:"documentinfo_sidebarheight__11eUy",commentslist:"documentinfo_commentslist__3d1dp",addcommentfield:"documentinfo_addcommentfield__IluFf"}},591:function(e,t,n){"use strict";var r=n(1),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDataset=t.getResourceAsDataset=t.RDFStreamToQuads=t.getResourceAsQuadArray=t.getResourceAsRDFStream=t.getResourceAsTextStream=t.getResourceAsText=void 0;var c=n(130),i=n(57),s=n(197),u=o(n(328)),l=o(n(129)),f=n(592);function d(e,t,n){return a(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!p(t)){r.next=6;break}return r.next=3,g(e,t);case 3:return r.abrupt("return",r.sent);case 6:if(s.isBrowser){r.next=10;break}return r.next=9,v(t,n);case 9:return r.abrupt("return",r.sent);case 10:throw new l.default("Local file paths in a browser environment are not yet supported");case 11:case"end":return r.stop()}}),a)})))}function p(e){var t=!0;try{new URL(e)}catch(n){t=!1}return t}t.getResourceAsText=function(e,t){return a(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p(t)){n.next=6;break}return n.next=3,b(e,t);case 3:return n.abrupt("return",n.sent);case 6:if(s.isBrowser){n.next=10;break}return n.next=9,m(t);case 9:return n.abrupt("return",n.sent);case 10:throw new l.default("Local file paths in a browser environment are not yet supported");case 11:case"end":return n.stop()}}),n)})))},t.getResourceAsTextStream=function(e,t){return a(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p(t)){n.next=6;break}return n.next=3,x(e,t);case 3:return n.abrupt("return",n.sent);case 6:if(s.isBrowser){n.next=10;break}return n.next=9,h(t);case 9:return n.abrupt("return",n.sent);case 10:throw new l.default("Local file paths in a browser environment are not yet supported");case 11:case"end":return n.stop()}}),n)})))},t.getResourceAsRDFStream=d,t.getResourceAsQuadArray=function(e,t,n){return a(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!p(t)){r.next=6;break}return r.next=3,E(e,t);case 3:return r.abrupt("return",r.sent);case 6:if(s.isBrowser){r.next=10;break}return r.next=9,w(t,n);case 9:return r.abrupt("return",r.sent);case 10:throw new l.default("Local file paths in a browser environment are not yet supported");case 11:case"end":return r.stop()}}),a)})))};var m=function(e){return a(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.readFileSync(e,{encoding:"utf-8"}));case 1:case"end":return t.stop()}}),t)})))},h=function(e){return a(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.createReadStream(e));case 1:case"end":return t.stop()}}),t)})))},v=function(e,t){return a(void 0,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(e);case 2:return a=n.sent,n.abrupt("return",u.default.parse(a,{path:e,contentType:t,baseIRI:e}));case 4:case"end":return n.stop()}}),n)})))},w=function(e,n){return a(void 0,void 0,void 0,r.mark((function a(){var o;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v(e,n);case 2:return o=r.sent,r.abrupt("return",t.RDFStreamToQuads(o));case 4:case"end":return r.stop()}}),a)})))},b=function(e,t){return a(void 0,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.getFile(e,t);case 2:return a=n.sent,n.abrupt("return",a.text());case 4:case"end":return n.stop()}}),n)})))},x=function(e,t){return a(void 0,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.getFile(e,t);case 2:return a=n.sent,n.abrupt("return",a.body);case 4:case"end":return n.stop()}}),n)})))},g=function(e,t){return a(void 0,void 0,void 0,r.mark((function n(){var a,o,i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.getFile(e,t);case 2:if(a=n.sent,o=a.body,i=a.headers.get("content-type")){n.next=7;break}throw new l.default("Cannot parse server response. Server response did not contain a content-type header.");case 7:return n.abrupt("return",u.default.parse(o,{path:t,contentType:i,baseIRI:t}));case 8:case"end":return n.stop()}}),n)})))},E=function(e,n){return a(void 0,void 0,void 0,r.mark((function a(){var o;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e,n);case 2:return o=r.sent,r.abrupt("return",t.RDFStreamToQuads(o));case 4:case"end":return r.stop()}}),a)})))};t.RDFStreamToQuads=function(e){return new Promise((function(t,n){var r=[];e.on("data",(function(e){r.push(e)})).on("error",(function(e){return n(new l.default("Error parsing notification body.\n".concat(e.message),"Notification parsing"))})).on("end",(function(){return t(r)}))}))},t.getResourceAsDataset=function(e,n,o){return a(void 0,void 0,void 0,r.mark((function a(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d(e,n,o);case 2:return c=r.sent,r.next=5,t.getDataset(c);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),a)})))},t.getDataset=function(e){return a(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.dataset().import(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}},597:function(e,t,n){"use strict";var r=n(1),a=n(11),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;var c=n(1247),i=n(592),s=n(1248);t.validate=function(e,t){return o(this,void 0,void 0,r.mark((function n(){var o,u,l,f,d;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new s(t,{factory:i}),n.next=3,o.validate(e);case 3:u=n.sent,c.log(c.Level.Log,"Shape conforms: ".concat(u.conforms,", report length: ").concat(u.results.length)),l=a(u.results);try{for(l.s();!(f=l.n()).done;)d=f.value,c.log(c.Level.Log,d.message)}catch(r){l.e(r)}finally{l.f()}return n.abrupt("return",u.conforms);case 8:case"end":return n.stop()}}),n)})))}},604:function(e,t,n){"use strict";var r=n(11),a=n(1),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.discoverInbox=t.fetchInboxNotifications=t.getInbox=void 0;var i=n(130),s=c(n(131)),u=c(n(129)),l=s.default.ldp("inbox");function f(e,t){return o(this,void 0,void 0,a.mark((function n(){var r,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.getStoreFromFile(e,t);case 2:return r=n.sent,n.next=5,p(r,t);case 5:return o=n.sent,n.abrupt("return",{id:t,notifications:o});case 7:case"end":return n.stop()}}),n)})))}function d(e,t){return o(this,void 0,void 0,a.mark((function n(){var o,c,f,d,p,m,h;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.getFile(e,t,"Inbox retrieval");case 2:if(o=n.sent){n.next=5;break}throw new u.default("Could not retrieve inbox of ".concat(t,"."),"Inbox retrieval");case 5:if(!(c=o.headers[l])){n.next=8;break}return n.abrupt("return",c);case 8:return n.next=10,i.parseResponseToStore(t,o);case 10:f=n.sent,d=f.getQuads(t,s.default.ldp("inbox"),null,null),p=r(d),n.prev=13,p.s();case 15:if((m=p.n()).done){n.next=21;break}if("NamedNode"!==(h=m.value).object.termType){n.next=19;break}return n.abrupt("return",h.object.id);case 19:n.next=15;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(13),p.e(n.t0);case 26:return n.prev=26,p.f(),n.finish(26);case 29:throw new u.default("Could not retrieve inbox of ".concat(t,"."),"Inbox retrieval");case 30:case"end":return n.stop()}}),n,null,[[13,23,26,29]])})))}function p(e,t){return o(this,void 0,void 0,a.mark((function n(){var r;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getQuads(t,s.default.ldp("contains"),null,null);case 2:return r=n.sent,n.abrupt("return",r.map((function(e){return e.object.id})));case 4:case"end":return n.stop()}}),n)})))}t.getInbox=function(e,t){return o(this,void 0,void 0,a.mark((function n(){var r,o;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=5;break}return n.next=3,e.currentSession();case 3:r=n.sent,t=null===r||void 0===r?void 0:r.webId;case 5:if(t){n.next=7;break}throw new u.default("No inbox URI. Please maske sure a uri is passed or you are authenticated.","Inbox retrieval");case 7:return n.next=9,d(e,t);case 9:if(o=n.sent){n.next=12;break}throw new u.default("Could not find an inbox for resource ".concat(t,"."),"Inbox retrieval");case 12:return n.abrupt("return",f(e,o));case 13:case"end":return n.stop()}}),n)})))},t.fetchInboxNotifications=f,t.discoverInbox=d},706:function(e,t,n){},742:function(e,t,n){e.exports=n(1551)},747:function(e,t,n){},748:function(e,t,n){},754:function(e,t){},756:function(e,t){},777:function(e,t){},779:function(e,t){},788:function(e,t){},790:function(e,t){},816:function(e,t){},817:function(e,t){},822:function(e,t){},824:function(e,t){},831:function(e,t){},850:function(e,t){},868:function(e,t){},870:function(e,t){},989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(990);Object.defineProperty(t,"NotificationHandler",{enumerable:!0,get:function(){return r.NotificationHandler}})},990:function(e,t,n){"use strict";var r=n(1),a=n(11),o=n(2),c=n(3),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationHandler=void 0;var d=n(197),p=f(n(129)),m=n(130),h=f(n(1220)),v=u(n(166)),w=n(1222),b=n(604),x=f(n(1272)),g=(n(248),function(){function e(t){var r,a;o(this,e),this.config=t;var c="info";c=(null===(r=this.config)||void 0===r?void 0:r.verbose)?"verbose":(null===(a=this.config)||void 0===a?void 0:a.cli)?"info":"warn",v.add(new v.transports.Console({level:c})),this.auth=this.config.auth||d.isBrowser?n(1273):n(1274),v.log("verbose","config: "+JSON.stringify(this.config,null,2))}return c(e,[{key:"sendNotification",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n,o,c,i,s,u,l,f,d,w,x,g,E,y,k,I;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkNotificationData(e),t.next=3,h.default(this.auth,this.config,e);case 3:n=t.sent,o={},c=[],i=0,s=[e.to,e.cc,e.bcc];case 7:if(!(i<s.length)){t.next=42;break}if(!(u=s[i])){t.next=39;break}l=a(u),t.prev=11,l.s();case 13:if((f=l.n()).done){t.next=31;break}return d=f.value,t.prev=15,t.next=18,b.discoverInbox(this.auth,d);case 18:if(w=t.sent){t.next=23;break}throw new p.default("The inbox of ".concat(d," could not be retrieved.\n"),"Inbox discovery");case 23:c.push({id:d,inbox:w});case 24:t.next=29;break;case 26:throw t.prev=26,t.t0=t.catch(15),new p.default("The inbox of ".concat(d," could not be retrieved.\n").concat(t.t0.message),t.t0.name||"Inbox discovery error");case 29:t.next=13;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(11),l.e(t.t1);case 36:return t.prev=36,l.f(),t.finish(36);case 39:i++,t.next=7;break;case 42:x=0,g=c;case 43:if(!(x<g.length)){t.next=61;break}return E=g[x],y=E.inbox,k=E.id,t.prev=47,t.next=50,m.postFile(this.auth,y,n,e.contentTypeOutput,"Notification posting");case 50:I=t.sent,o[k]=I,v.log("verbose","Notification sent successfully to inbox "+y),t.next=58;break;case 55:t.prev=55,t.t2=t.catch(47),o[k]=new p.default("Error posting notification to inbox of ".concat(k,".\n").concat(t.t2.message),t.t2.name||"Notification posting");case 58:x++,t.next=43;break;case 61:return v.log("verbose","All notifications sent"),t.abrupt("return",o);case 63:case"end":return t.stop()}}),t,this,[[11,33,36,39],[15,26],[47,55]])})))}},{key:"checkNotificationData",value:function(e){if(0===e.to.length)throw new p.default("No receiver provided. Provide at least one receiver for the notification");if(!(e.notification||e.notification_file||e.notification_template&&e.notification_mapping))throw new p.default("No notification provided. Provide either a notification object, a notification file, or a notification template file and mapping.")}},{key:"clearNotifications",value:function(e){var t,n;return l(this,void 0,void 0,r.mark((function o(){var c,i,s,u,l,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getWebId(e);case 2:if(c=r.sent,!(null===(t=e.notificationIds)||void 0===t?void 0:t.length)){r.next=7;break}r.t0=e.notificationIds,r.next=19;break;case 7:return r.next=9,b.getInbox(this.auth,c);case 9:if(r.t2=n=r.sent,r.t1=null===r.t2,r.t1){r.next=13;break}r.t1=void 0===n;case 13:if(!r.t1){r.next=17;break}r.t3=void 0,r.next=18;break;case 17:r.t3=n.notifications;case 18:r.t0=r.t3;case 19:i=r.t0,s=[],u=a(i),r.prev=22,u.s();case 24:if((l=u.n()).done){r.next=38;break}return f=l.value,r.prev=26,r.next=29,m.deleteFile(this.auth,f);case 29:v.log("verbose","Deleted notification: "+f),r.next=36;break;case 32:r.prev=32,r.t4=r.catch(26),s.push({id:f,error:r.t4}),v.log("error","Failed to delete notification: "+f);case 36:r.next=24;break;case 38:r.next=43;break;case 40:r.prev=40,r.t5=r.catch(22),u.e(r.t5);case 43:return r.prev=43,u.f(),r.finish(43);case 46:if(v.log("verbose","Finished clearing inbox"),!s.length){r.next=49;break}throw new p.default("Failed to remove notifications: ".concat(s.map((function(e){return e.id})).join(", ")));case 49:case"end":return r.stop()}}),o,this,[[22,40,43,46],[26,32]])})))}},{key:"fetchNotifications",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.inbox){t.next=8;break}return t.next=3,this.getWebId(e);case 3:return n=t.sent,e.webId=n,t.next=7,b.discoverInbox(this.auth,n);case 7:e.inbox=t.sent;case 8:return t.abrupt("return",x.default(this.auth,e));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"watchNotifications",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.inbox){t.next=8;break}return t.next=3,this.getWebId(e);case 3:return n=t.sent,e.webId=n,t.next=7,b.discoverInbox(this.auth,n);case 7:e.inbox=t.sent;case 8:return t.abrupt("return",new w.InboxRetrievalAsyncIterator(this.auth,e));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"login",value:function(e){var t,n,a;return l(this,void 0,void 0,r.mark((function o(){var c,i,s,u,l;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=(null===e||void 0===e?void 0:e.username)||this.config.username,i=(null===e||void 0===e?void 0:e.password)||this.config.password,s=(null===e||void 0===e?void 0:e.idp)||this.config.idp,r.next=5,null===(t=this.auth)||void 0===t?void 0:t.currentSession();case 5:if(!r.sent){r.next=7;break}return r.abrupt("return");case 7:if(!d.isBrowser){r.next=21;break}if(u=this.config.idp||this.config.idp){r.next=11;break}throw new p.default("No identity provider passed to login via browser. \nPlease pass an identity provider in the config file or or in the parameter of the login function.","LoginError");case 11:return r.prev=11,r.next=14,null===(n=this.auth)||void 0===n?void 0:n.login(u);case 14:r.next=19;break;case 16:throw r.prev=16,r.t0=r.catch(11),new p.default("Could not login to solid. \n".concat(r.t0.message));case 19:r.next=36;break;case 21:if(!d.isNode){r.next=35;break}if((l={idp:s,username:c,password:i}).idp&&l.username&&l.password){r.next=25;break}throw new p.default("Identity provider, username and password are required to login to Solid if no session is found. \n           Please pass these parameters via the config file, or in the parameter of the login function.","LoginError");case 25:return r.prev=25,r.next=28,null===(a=this.auth)||void 0===a?void 0:a.login(l);case 28:r.next=33;break;case 30:throw r.prev=30,r.t1=r.catch(25),new p.default("Could not login to solid. \n".concat(r.t1.message));case 33:r.next=36;break;case 35:throw new p.default("This application is only designed to work in Node or in the Browser.");case 36:case"end":return r.stop()}}),o,this,[[11,16],[25,30]])})))}},{key:"loginPopup",value:function(e){var t;return l(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.isBrowser){n.next=2;break}throw new p.default("Login via popup can only be used in browser environments","LoginError");case 2:return n.next=4,null===(t=this.auth)||void 0===t?void 0:t.currentSession();case 4:if(!n.sent){n.next=6;break}return n.abrupt("return");case 6:if(!(a=e||this.config.popup)){n.next=17;break}n.prev=8,this.auth.popupLogin(a),n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(8),new p.default("Could not login with popup. \n".concat(n.t0.message));case 15:n.next=18;break;case 17:throw new p.default("No login popup uri. Please pass a popup uri via the config file or or in the parameter of the loginPopup function.","LoginError");case 18:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"getWebId",value:function(e){var t;return l(this,void 0,void 0,r.mark((function n(){var a,o;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.webId){n.next=6;break}return n.next=4,null===(t=this.auth)||void 0===t?void 0:t.currentSession();case 4:o=n.sent,a=null===o||void 0===o?void 0:o.webId;case 6:if(a){n.next=8;break}throw new p.default("Please authenticate yourself.");case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"logout",value:function(){var e;return l(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.auth)||void 0===e||e.logout();case 1:case"end":return t.stop()}}),t,this)})))}}]),e}());t.NotificationHandler=g},991:function(e,t){},993:function(e,t){}},[[742,1,2]]]);
//# sourceMappingURL=main.b46208d9.chunk.js.map